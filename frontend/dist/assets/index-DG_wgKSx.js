import{i as pr,t as Vc,a as si,m as oi,G as Z,C as ii,f as ye,o as Cs,b as ai,c as Mt,u as In,d as Yc,S as Lr,r as ft,e as Pr,g as Ne,h as Kc,j as Fr,k as ci,l as Ht,n as ui,p as Xc,q as A,D as W,s as g,v as Jc,w as Zc,x as Ut,y as $r,z as Rs,A as Br,B as xs,E as Qc,F as eu,H as Hr,I as Ur,J as tu,K as li,L as nu,M as dn,N as At,O as ve,P as Ot,Q as di,R as Ms,T as ru,U as su,V as As,W as xe,X as zt,Y as zr,Z as Nt,_ as ou,$ as se,a0 as Ie,a1 as iu,a2 as au,a3 as cu,a4 as uu,a5 as lu,a6 as du,a7 as fu,a8 as ce,a9 as kn,aa as pu,ab as hu,ac as Tn,ad as mu,ae as fi,af as gu,ag as hr,ah as yu,ai as pi,aj as oe,ak as Dt,al as _u,am as Wt,an as mr,ao as pt,ap as jt,aq as Wr,ar as Os,as as Su,at as ut,au as jr,av as bu,aw as Eu,ax as vu,ay as wu,az as Iu,aA as Gr,aB as qr,aC as Oe,aD as Vr,aE as ku,aF as fn,aG as Cn,aH as nr,aI as Tu,aJ as Cu,aK as hi,aL as Rn,aM as mi,aN as ht,aO as Ru,aP as xu,aQ as Ns,aR as Ds,aS as an,aT as Mu,aU as Au,aV as Yr,aW as gr,aX as Ou,aY as Nu,aZ as Du,a_ as Lu,a$ as Pu,b0 as Fu,b1 as kt,b2 as Ls,b3 as $u,b4 as Ge,b5 as qe,b6 as gi,b7 as Ps}from"./browsertracing-Cpaz763f.js";import{bz as jS,b8 as GS,b9 as qS,ba as VS,bb as YS,bc as KS,bd as XS,be as JS,bf as ZS,bg as QS,bh as eb,bi as tb,bj as nb,bk as rb,bl as sb,bm as ob,bn as ib,bo as ab,bp as cb,bq as ub,br as lb,bs as db,bt as fb,bu as pb,bv as hb,bw as mb,bx as gb,by as yb}from"./browsertracing-Cpaz763f.js";import{g as Bu,r as le}from"./vendor-CJBOjUNh.js";function yi(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!pr(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Hu(yr(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function yr(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(pr(r[s],Error)){Fs(i,a);const u=e(t,r[s]),l=c.length;$s(u,s,l,a),c=yr(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(pr(u,Error)){Fs(i,a);const d=e(t,u),f=c.length;$s(d,`errors[${l}]`,f,a),c=yr(e,t,n,u,s,[d,...c],d,f)}}),c}function Fs(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function $s(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Hu(e,t){return e.map(n=>(n.value&&(n.value=Vc(n.value,t)),n))}class Se extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function _i(e){const t="console";si(t,e),oi(t,Uu)}function Uu(){"console"in Z&&ii.forEach(function(e){e in Z.console&&ye(Z.console,e,function(t){return Cs[e]=t,function(...n){ai("console",{args:n,level:e});const s=Cs[e];s&&s.apply(Z.console,n)}})})}const et=Z,zu=1e3;let Bs,_r,Sr;function Si(e){const t="dom";si(t,e),oi(t,Wu)}function Wu(){if(!et.document)return;const e=ai.bind(null,"dom"),t=Hs(e,!0);et.document.addEventListener("click",t,!1),et.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=et[n]&&et[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ye(r,"addEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){const d=Hs(e);l.handler=d,s.call(this,o,d,a)}l.refCount++}catch{}return s.call(this,o,i,a)}}),ye(r,"removeEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(s.call(this,o,l.handler,a),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,i,a)}}))})}function ju(e){if(e.type!==_r)return!1;try{if(!e.target||e.target._sentryId!==Sr)return!1}catch{}return!0}function Gu(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Hs(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=qu(n);if(Gu(n.type,r))return;Mt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Mt(r,"_sentryId",In());const s=n.type==="keypress"?"input":n.type;ju(n)||(e({event:n,name:s,global:t}),_r=n.type,Sr=r?r._sentryId:void 0),clearTimeout(Bs),Bs=et.setTimeout(()=>{Sr=void 0,_r=void 0},zu)}}function qu(e){try{return e.target}catch{return null}}function br(){return typeof window<"u"&&(!Yc()||Vu())}function Vu(){return Z.process!==void 0&&Z.process.type==="renderer"}function Yu(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const Ku=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Xu(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Ku.exec(t);return n?n.slice(1):[]}function Us(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=Yu(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function zs(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Ju(e,t){e=Us(e).slice(1),t=Us(t).slice(1);const n=zs(e.split("/")),r=zs(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function Zu(e,t){return Xu(e)[2]}function Qu(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]}function s(i){if(!n())return Pr(new Se("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Lr((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(d=>{ft(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:o}}const el=["fatal","error","warning","log","info","debug"];function bi(e){return e==="warn"?"warning":el.includes(e)?e:"log"}function tl(e,t,n){const r=[{type:"client_report"},{timestamp:Kc(),discarded_events:e}];return Ne(t?{dsn:t}:{},[r])}const nl=60*1e3;function Ei(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?nl:r-t}function rl(e,t){return e[t]||e.all||0}function vi(e,t,n=Date.now()){return rl(e,t)>n}function wi(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+Ei(i,r):t===429&&(s.all=r+60*1e3);return s}function sl(e,t){return e(t.stack||"",1)}function ol(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=sl(e,t);return r.length&&(n.stacktrace={frames:r}),n}function il(e,t){return e??t()}function al(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function cl(e,t,n,r){const s=Fr(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Ht(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ne(o,[i])}function Ii(e,t,n,r){const s=Fr(n),o=e.type&&e.type!=="replay_event"?e.type:"event";al(e,n&&n.sdk);const i=ci(e,s,r,t);return delete e.sdkProcessingMetadata,Ne(i,[[{type:o},e]])}const ul="7";function ki(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function ll(e){return`${ki(e)}${e.projectId}/envelope/`}function dl(e,t){return Xc({sentry_key:e.publicKey,sentry_version:ul,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Ti(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${ll(e)}?${dl(e,r)}`}function fl(e,t){const n=ui(e);if(!n)return"";const r=`${ki(n)}embed/error-page/`;let s=`dsn=${Ht(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Ws=[];function pl(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function hl(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Jc(n(t)):r=t;const s=pl(r),o=gl(s,i=>i.name==="Debug");if(o!==-1){const[i]=s.splice(o,1);s.push(i)}return s}function ml(e,t){const n={};return t.forEach(r=>{r&&Ci(e,r,n)}),n}function js(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ci(e,t,n){if(n[t.name]){W&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ws.indexOf(t.name)===-1&&(t.setupOnce(Zc,Ut),Ws.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=(o,i)=>r(o,i,e);s.id=t.name,e.addEventProcessor(s)}W&&g.log(`Integration installed: ${t.name}`)}function uS(e){const t=A();if(!t||!t.addIntegration){W&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function gl(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Y(e,t){const n=function(...s){return t(...s)};return n.id=e,n}function yl(e,t,n,r){const s=Object.entries($r(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function _l(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Sl(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function bl(e){return e.replace(/[^\w]+/gi,"_")}function El(e){return e.replace(/[^\w\-.]+/gi,"_")}function vl(e){return e.replace(/[^\w\-./]+/gi,"")}const wl=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Il(e){for(const[t,n]of wl)if(e===t)return n;return e}function kl(e){return[...e].reduce((t,n)=>t+Il(n),"")}function Tl(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=vl(n);t[r]=kl(String(e[n]))}return t}function Cl(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=Ht(t));const o=Rl(e);return Ne(s,[o])}function Rl(e){const t=Sl(e);return[{type:"statsd",length:t.length},t]}const Gs="Not capturing exception because it's already been captured.";class xl{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ui(t.dsn):W&&g.warn("No DSN provided, client will not send events."),this._dsn){const n=Ti(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Rs(t)){W&&g.log(Gs);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(o=>this._captureEvent(o,n,r)).then(o=>{s=o})),s}captureMessage(t,n,r,s){let o=r&&r.event_id;const i=li(t)?t:String(t),a=Br(t)?this.eventFromMessage(i,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{o=c})),o}captureEvent(t,n,r){if(n&&n.originalException&&Rs(n.originalException)){W&&g.log(Gs);return}let s=n&&n.event_id;const i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,i||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?W&&g.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),xs(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):ft(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return W&&g.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Ci(this,t,this._integrations),n||js(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ii(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Qc(r,eu(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=cl(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;W&&g.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}captureAggregateMetrics(t){W&&g.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Cl(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=ml(this,t),js(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(xs(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Lr(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=Hr()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),Ur(o,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};const h=p||tu(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(W){const o=s;o.logLevel==="log"?g.log(o.message):g.warn(o)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=xi(t),a=Ri(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",t),Pr(new Se(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,t),new Se("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const y=Al(s,p,n);return Ml(y,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",l,t),i){const m=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",m)}throw new Se(`${u} returned \`null\`, will not send event.`,"log")}const h=r&&r.getSession();if(!i&&h&&this._updateSessionFromEvent(h,p),i){const S=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,m=p.spans?p.spans.length:0,_=S-m;_>0&&this.recordDroppedEvent("before_send","span",_)}const y=p.transaction_info;if(i&&y&&p.transaction!==t.transaction){const S="custom";p.transaction_info={...y,source:S}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Se?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Se(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{W&&g.error("Error while sending event:",n)});W&&g.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function Ml(e,t){const n=`${t} must return \`null\` or a valid event.`;if(nu(e))return e.then(r=>{if(!dn(r)&&r!==null)throw new Se(n);return r},r=>{throw new Se(`${t} rejected with ${r}`)});if(!dn(e)&&e!==null)throw new Se(n);return e}function Al(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Ri(t)&&r)return r(t,n);if(xi(t)&&s){if(t.spans){const o=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:o}}return s(t,n)}return t}function Ri(e){return e.type===void 0}function xi(e){return e.type==="transaction"}function Ol(e){const t=A();!t||!t.addEventProcessor||t.addEventProcessor(e)}const Mi="c",Ai="g",Kr="s",Oi="d",Nl=5e3;class Dl{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class Ll{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Pl{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class Fl{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?_l(t):t).join(":")}}const $l={[Mi]:Dl,[Ai]:Ll,[Oi]:Pl,[Kr]:Fl};function Bl(e,t){t.debug===!0&&(W?g.enable():At(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ve().update(t.initialScope);const r=new e(t);Hl(r),Ul(r)}function Hl(e){const n=Ut().getStackTop();n.client=e,n.scope.setClient(e)}function Ul(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const zl=30;function Ni(e,t,n=Qu(e.bufferSize||zl)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(Ot(i,(d,f)=>{const p=Ms(f);if(vi(r,p)){const h=qs(d,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(d)}),a.length===0)return ft();const c=Ne(i[0],a),u=d=>{Ot(c,(f,p)=>{const h=qs(f,p);e.recordDroppedEvent(d,Ms(p),h)})},l=()=>t({body:di(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&W&&g.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=wi(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Se)return W&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),ft();throw d})}return o.__sentry__baseTransport__=!0,{send:o,flush:s}}function qs(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const Wl=100,Vs=5e3,jl=36e5;function rr(e,t){W&&g.info(`[Offline]: ${e}`,t)}function Gl(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=Vs,o;function i(l,d,f){return ru(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;const d=await r.pop();d&&(rr("Attempting to send previously queued event"),u(d).catch(f=>{rr("Failed to retry sending",f)}))},l),typeof o!="number"&&o.unref&&o.unref())}function c(){o||(a(s),s=Math.min(s*2,jl))}async function u(l){try{const d=await n.send(l);let f=Wl;if(d){if(d.headers&&d.headers["retry-after"])f=Ei(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=Vs,d}catch(d){if(r&&await i(l,d,s))return await r.insert(l),c(),rr("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function Di(e,t){let n;return Ot(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function ql(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=Di(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Vl(e,t){return Ne(t?{...e[0],dsn:t}:e[0],e[1])}function lS(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const l=u?`${c}:${u}`:c;let d=s.get(l);if(!d){const f=su(c);if(!f)return;const p=Ti(f,n.tunnel);d=u?ql(e,u)({...n,url:p}):e({...n,url:p}),s.set(l,d)}return[c,d]}async function i(c){function u(f){const p=f&&f.length?f:["event"];return Di(c,p)}const l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?o(f,void 0):o(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(["",r]),(await Promise.all(l.map(([f,p])=>p.send(Vl(c,f)))))[0]}async function a(c){const u=[await r.flush(c)];for(const[,l]of s)u.push(await l.flush(c));return u.every(l=>l)}return{send:i,flush:a}}}function Li(e,t){const n=t&&Xl(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return Kl(e,r)||Yl(e,s)}function Yl(e,t){return t?Ys(e)===Ys(t):!1}function Kl(e,t){return t?e.includes(t.host):!1}function Ys(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Xl(e){return e.getClient!==void 0}function dS(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Pi(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:As})),version:As}),e._metadata=s}const Fi=new Map,Ks=new Set;function Jl(e){if(Z._sentryModuleMetadata)for(const t of Object.keys(Z._sentryModuleMetadata)){const n=Z._sentryModuleMetadata[t];if(Ks.has(t))continue;Ks.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Fi.set(s.filename,n);break}}}function Zl(e,t){return Jl(e),Fi.get(t)}function Ql(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=Zl(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function ed(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const $i="ModuleMetadata",td=()=>({name:$i,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{Ot(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(ed(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return Ql(r,e),e}}),nd=td,fS=Y($i,nd),rd=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],sd=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Bi="InboundFilters",od=(e={})=>({name:Bi,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),o=ad(e,s);return cd(t,o)?null:t}}),Hi=od,id=Y(Bi,Hi);function ad(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:rd],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:sd],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function cd(e,t){return t.ignoreInternal&&hd(e)?(W&&g.warn(`Event dropped due to being internal Sentry Error.
Event: ${xe(e)}`),!0):ud(e,t.ignoreErrors)?(W&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${xe(e)}`),!0):ld(e,t.ignoreTransactions)?(W&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${xe(e)}`),!0):dd(e,t.denyUrls)?(W&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${xe(e)}.
Url: ${pn(e)}`),!0):fd(e,t.allowUrls)?!1:(W&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${xe(e)}.
Url: ${pn(e)}`),!0)}function ud(e,t){return e.type||!t||!t.length?!1:pd(e).some(n=>zt(n,t))}function ld(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?zt(n,t):!1}function dd(e,t){if(!t||!t.length)return!1;const n=pn(e);return n?zt(n,t):!1}function fd(e,t){if(!t||!t.length)return!0;const n=pn(e);return n?zt(n,t):!0}function pd(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),W&&t.length===0&&g.error(`Could not extract message for event ${xe(e)}`),t}function hd(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function md(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function pn(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?md(t):null}catch{return W&&g.error(`Cannot extract url for event ${xe(e)}`),null}}let Xs;const Ui="FunctionToString",Js=new WeakMap,gd=()=>({name:Ui,setupOnce(){Xs=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=zr(this),n=Js.has(A())&&t!==void 0?t:this;return Xs.apply(n,e)}}catch{}},setup(e){Js.set(e,!0)}}),zi=gd,yd=Y(Ui,zi),_d="cause",Sd=5,Wi="LinkedErrors",bd=(e={})=>{const t=e.limit||Sd,n=e.key||_d;return{name:Wi,setupOnce(){},preprocessEvent(r,s,o){const i=o.getOptions();yi(ol,i.stackParser,i.maxValueLength,n,t,r,s)}}},Ed=bd,vd=Y(Wi,Ed),wd=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:yd,InboundFilters:id,LinkedErrors:vd},Symbol.toStringTag,{value:"Module"}));class Id{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Nl)}add(t,n,r,s="none",o={},i=Nt()){const a=Math.floor(i),c=El(n),u=Tl(o),l=bl(s),d=yl(t,c,l,u);let f=this._buckets.get(d);const p=f&&t===Kr?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new $l[t](r),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(d,f));const h=typeof r=="string"?f.metric.weight-p:r;ou(t,c,h,l,o,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const ji="MetricsAggregator",kd=()=>({name:ji,setupOnce(){},setup(e){e.metricsAggregator=new Id(e)}}),Gi=kd,Td=Y(ji,Gi);function xn(e,t,n,r={}){const s=A(),o=ve();if(s){if(!s.metricsAggregator){W&&g.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:i,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=o.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=se(d).description||""),W&&g.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,i,{...f,...a},c)}}function Cd(e,t=1,n){xn(Mi,e,t,n)}function Rd(e,t,n){xn(Oi,e,t,n)}function xd(e,t,n){xn(Kr,e,t,n)}function Md(e,t,n){xn(Ai,e,t,n)}const pS={increment:Cd,distribution:Rd,set:xd,gauge:Md,MetricsAggregator:Td,metricsAggregatorIntegration:Gi},Ad=wd,Od="BrowserTracing",Nd={...uu,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...cu},Mn=(e={})=>{const t=Ie?!!(e.tracePropagationTargets||e.tracingOrigins):!1;iu(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...Nd,...e},r=au(),s={};n.enableInp&&lu(s,n.interactionsSampleRate),n.enableLongTask&&du(),n._experiments.enableInteractions&&fu();const o={name:void 0,context:void 0};function i(a){const c=Ut(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,p=a.op==="pageload";let h;if(p){const _=p?Zs("sentry-trace"):"",b=p?Zs("baggage"):void 0,{traceId:k,dsc:v,parentSpanId:w,sampled:C}=mu(_,b);h={traceId:k,parentSpanId:w,parentSampled:C,...a,metadata:{...a.metadata,dynamicSamplingContext:v},trimEnd:!0}}else h={trimEnd:!0,...a};const y=u?u(h):h;y.metadata=y.name!==h.name?{...y.metadata,source:"custom"}:y.metadata,o.name=y.name,o.context=y,y.sampled===!1&&Ie&&g.log(`[Tracing] Will not send ${y.op} transaction because of beforeNavigate.`),Ie&&g.log(`[Tracing] Starting ${y.op} transaction on scope`);const{location:S}=ce,m=fi(c,y,l,d,!0,{location:S},f,p);return p&&ce.document&&(ce.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(ce.document.readyState)&&m.sendAutoFinishSignal()}),["interactive","complete"].includes(ce.document.readyState)&&m.sendAutoFinishSignal()),m.registerBeforeFinishCallback(_=>{r(),gu(_)}),m}return{name:Od,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:h}=n,y=c&&c.tracePropagationTargets,S=y||n.tracePropagationTargets;Ie&&t&&y&&g.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let m,_=ce.location&&ce.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{m&&(Ie&&g.log(`[Tracing] Finishing current transaction with op: ${se(m).op}`),m.end()),m=i({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{m&&(Ie&&g.log(`[Tracing] Finishing current transaction with op: ${se(m).op}`),m.end()),m=i({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&ce.location){const b={name:ce.location.pathname,startTimestamp:Dt?Dt/1e3:void 0,origin:"auto.pageload.browser",attributes:{[oe]:"url"}};Gt(a,b)}n.instrumentNavigation&&a.emit&&ce.location&&kn(({to:b,from:k})=>{if(k===void 0&&_&&_.indexOf(b)!==-1){_=void 0;return}if(k!==b){_=void 0;const v={name:ce.location.pathname,origin:"auto.navigation.browser",attributes:{[oe]:"url"}};qt(a,v)}}),u&&pu(),h.enableInteractions&&Dd(n,o),n.enableInp&&Pd(s,o),hu({traceFetch:l,traceXHR:d,tracePropagationTargets:S,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:n}};function Gt(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Tn();return(n&&se(n).op)==="pageload"?n:void 0}function qt(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Tn();return(n&&se(n).op)==="navigation"?n:void 0}function Zs(e){const t=yu(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Dd(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:o,heartbeatInterval:i}=e,a="ui.action.click",c=pi();if(c&&c.op&&["navigation","pageload"].includes(c.op)){Ie&&g.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Ie&&g.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=ce,l={name:t.name,op:a,trimEnd:!0,data:{[oe]:t.context?Fd(t.context):"url"}};n=fi(Ut(),l,s,o,!0,{location:u},i)};["click"].forEach(s=>{ce.document&&addEventListener(s,r,{once:!1,capture:!0})})}function Ld(e){return"duration"in e}const Qs=10;function Pd(e,t){const n=({entries:r})=>{const s=A(),o=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,i=o!==void 0?o.getReplayId():void 0,a=pi(),c=ve(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(Ld(l)){const d=l.interactionId;if(d===void 0)return;const f=e[d],p=l.duration,h=l.startTime,y=Object.keys(e),S=y.length>0?y.reduce((m,_)=>e[m].duration<e[_].duration?m:_):void 0;if(l.entryType==="first-input"&&y.map(_=>e[_]).some(_=>_.duration===p&&_.startTime===h)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(y.length<Qs||S===void 0||p>e[S].duration){const m=t.name,_=t.context;m&&_&&(S&&Object.keys(e).length>=Qs&&delete e[S],e[d]={routeName:m,duration:p,parentContext:_,user:u,activeTransaction:a,replayId:i,startTime:h})}}})};hr("event",n),hr("first-input",n)}function Fd(e){const t=e.attributes&&e.attributes[oe],n=e.data&&e.data[oe],r=e.metadata&&e.metadata.source;return t||n||r}const E=Z;let Er=0;function qi(){return Er>0}function $d(){Er++,setTimeout(()=>{Er--})}function Ve(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(zr(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{const o=s.map(i=>Ve(i,t));return e.apply(this,o)}catch(o){throw $d(),Wt(i=>{i.addEventProcessor(a=>(t.mechanism&&(mr(a,void 0),pt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),jt(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}_u(r,e),Mt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Vi(e,t){const n=Xr(e,t),r={type:t&&t.name,value:zd(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Bd(e,t,n,r){const s=A(),o=s&&s.getOptions().normalizeDepth,i={exception:{values:[{type:jr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Gd(t,{isUnhandledRejection:r})}]},extra:{__serialized__:bu(t,o)}};if(n){const a=Xr(e,n);a.length&&(i.exception.values[0].stacktrace={frames:a})}return i}function sr(e,t){return{exception:{values:[Vi(e,t)]}}}function Xr(e,t){const n=t.stacktrace||t.stack||"",r=Ud(t);try{return e(n,r)}catch{}return[]}const Hd=/Minified React error #\d+;/i;function Ud(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Hd.test(e.message))return 1}return 0}function zd(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Wd(e,t,n,r){const s=n&&n.syntheticException||void 0,o=Jr(e,t,s,r);return pt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),ft(o)}function jd(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=vr(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),ft(i)}function Jr(e,t,n,r,s){let o;if(Wr(t)&&t.error)return sr(e,t.error);if(Os(t)||Su(t)){const i=t;if("stack"in t)o=sr(e,t);else{const a=i.name||(Os(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=vr(e,c,n,r),mr(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return ut(t)?sr(e,t):dn(t)||jr(t)?(o=Bd(e,t,n,s),pt(o,{synthetic:!0}),o):(o=vr(e,t,n,r),mr(o,`${t}`),pt(o,{synthetic:!0}),o)}function vr(e,t,n,r){const s={};if(r&&n){const o=Xr(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(li(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Gd(e,{isUnhandledRejection:t}){const n=Eu(e),r=t?"promise rejection":"exception";return Wr(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:jr(e)?`Event \`${qd(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function qd(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Vd(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ht(r)}},o=Yd(e);return Ne(s,[o])}function Yd(e){return[{type:"user_report"},e]}class Kd extends xl{constructor(t){const n=E.SENTRY_SDK_SOURCE||vu();Pi(t,"browser",["browser"],n),super(t),t.sendClientReports&&E.document&&E.document.addEventListener("visibilitychange",()=>{E.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Wd(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return jd(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){D&&g.warn("SDK not enabled, will not capture user feedback.");return}const n=Vd(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){D&&g.log("No outcomes to send");return}if(!this._dsn){D&&g.log("No dsn provided, will not send outcomes");return}D&&g.log("Sending outcomes:",t);const n=tl(t,this._options.tunnel&&Ht(this._dsn));this._sendEnvelope(n)}}let It;function Xd(){if(It)return It;if(wu(E.fetch))return It=E.fetch.bind(E);const e=E.document;let t=E.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){D&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return It=t.bind(E)}function Jd(){It=void 0}function Zd(e,t=Xd()){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Jd(),n-=i,r--,Pr(c)}}return Ni(e,s)}const Qd=4;function ef(e){function t(n){return new Lr((r,s)=>{const o=new XMLHttpRequest;o.onerror=s,o.onreadystatechange=()=>{o.readyState===Qd&&r({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const i in e.headers)Object.prototype.hasOwnProperty.call(e.headers,i)&&o.setRequestHeader(i,e.headers[i]);o.send(n.body)})}return Ni(e,t)}const Et="?",tf=10,nf=20,rf=30,sf=40,of=50;function Vt(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const af=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cf=/\((\S*)(?::(\d+))(?::(\d+))\)/,uf=e=>{const t=af.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const o=cf.exec(t[2]);o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3])}const[r,s]=Yi(t[1]||Et,t[2]);return Vt(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},lf=[rf,uf],df=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ff=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,pf=e=>{const t=df.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=ff.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||Et;return[s,r]=Yi(s,r),Vt(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},hf=[of,pf],mf=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gf=e=>{const t=mf.exec(e);return t?Vt(t[2],t[1]||Et,+t[3],t[4]?+t[4]:void 0):void 0},yf=[sf,gf],_f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Sf=e=>{const t=_f.exec(e);return t?Vt(t[2],t[3]||Et,+t[1]):void 0},hS=[tf,Sf],bf=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ef=e=>{const t=bf.exec(e);return t?Vt(t[5],t[3]||t[4]||Et,+t[1],+t[2]):void 0},mS=[nf,Ef],vf=[lf,hf,yf],wf=Iu(...vf),Yi=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Et,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Zt=1024,Ki="Breadcrumbs",If=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ki,setupOnce(){},setup(n){t.console&&_i(Rf(n)),t.dom&&Si(Cf(n,t.dom)),t.xhr&&Gr(xf(n)),t.fetch&&qr(Mf(n)),t.history&&kn(Af(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Tf(n))}}},Xi=If,kf=Y(Ki,Xi);function Tf(e){return function(n){A()===e&&Oe({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:xe(n)},{event:n})}}function Cf(e,t){return function(r){if(A()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Zt&&(D&&g.warn(`\`dom.maxStringLength\` cannot exceed ${Zt}, but a value of ${a} was configured. Sentry will use ${Zt} instead.`),a=Zt),typeof i=="string"&&(i=[i]);try{const u=r.event,l=Of(u)?u.target:u;s=Vr(l,{keyAttrs:i,maxStringLength:a}),o=ku(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),Oe(c,{event:r.event,name:r.name,global:r.global})}}function Rf(e){return function(n){if(A()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:bi(n.level),message:fn(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${fn(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Oe(r,{input:n.args,level:n.level})}}function xf(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[Cn];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,l={method:i,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};Oe({category:"xhr",data:l,type:"http"},d)}}function Mf(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};Oe({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s};Oe({category:"fetch",data:i,type:"http"},a)}}}function Af(e){return function(n){if(A()!==e)return;let r=n.from,s=n.to;const o=nr(E.location.href);let i=r?nr(r):void 0;const a=nr(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),Oe({category:"navigation",data:{from:r,to:s}})}}function Of(e){return!!e&&!!e.target}const Ji="Dedupe",Nf=()=>{let e;return{name:Ji,setupOnce(){},processEvent(t){if(t.type)return t;try{if(Lf(t,e))return D&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Zi=Nf,Df=Y(Ji,Zi);function Lf(e,t){return t?!!(Pf(e,t)||Ff(e,t)):!1}function Pf(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ea(e,t)||!Qi(e,t))}function Ff(e,t){const n=eo(t),r=eo(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ea(e,t)||!Qi(e,t))}function Qi(e,t){let n=to(e),r=to(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function ea(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function eo(e){return e.exception&&e.exception.values&&e.exception.values[0]}function to(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const ta="GlobalHandlers",$f=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ta,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Hf(n),no("onerror")),t.onunhandledrejection&&(Uf(n),no("onunhandledrejection"))}}},na=$f,Bf=Y(ta,na);function Hf(e){Tu(t=>{const{stackParser:n,attachStacktrace:r}=sa();if(A()!==e||qi())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=c===void 0&&hi(s)?jf(s,o,i,a):ra(Jr(n,c||s,void 0,r,!1),o,i,a);u.level="error",Rn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Uf(e){Cu(t=>{const{stackParser:n,attachStacktrace:r}=sa();if(A()!==e||qi())return;const s=zf(t),o=Br(s)?Wf(s):Jr(n,s,void 0,r,!0);o.level="error",Rn(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function zf(e){if(Br(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Wf(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function jf(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Wr(e)?e.message:e,i="Error";const a=o.match(s);return a&&(i=a[1],o=a[2]),ra({exception:{values:[{type:i,value:o}]}},t,n,r)}function ra(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=hi(t)&&t.length>0?t:mi();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function no(e){D&&g.log(`Global Handler attached: ${e}`)}function sa(){const e=A();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const oa="HttpContext",Gf=()=>({name:oa,setupOnce(){},preprocessEvent(e){if(!E.navigator&&!E.location&&!E.document)return;const t=e.request&&e.request.url||E.location&&E.location.href,{referrer:n}=E.document||{},{userAgent:r}=E.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),ia=Gf,qf=Y(oa,ia),Vf="cause",Yf=5,aa="LinkedErrors",Kf=(e={})=>{const t=e.limit||Yf,n=e.key||Vf;return{name:aa,setupOnce(){},preprocessEvent(r,s,o){const i=o.getOptions();yi(Vi,i.stackParser,i.maxValueLength,n,t,r,s)}}},ca=Kf,Xf=Y(aa,ca),Jf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ua="TryCatch",Zf=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ua,setupOnce(){t.setTimeout&&ye(E,"setTimeout",ro),t.setInterval&&ye(E,"setInterval",ro),t.requestAnimationFrame&&ye(E,"requestAnimationFrame",ep),t.XMLHttpRequest&&"XMLHttpRequest"in E&&ye(XMLHttpRequest.prototype,"send",tp);const n=t.eventTarget;n&&(Array.isArray(n)?n:Jf).forEach(np)}}},la=Zf,Qf=Y(ua,la);function ro(e){return function(...t){const n=t[0];return t[0]=Ve(n,{mechanism:{data:{function:ht(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ep(e){return function(t){return e.apply(this,[Ve(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!1,type:"instrument"}})])}}function tp(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ye(n,s,function(o){const i={mechanism:{data:{function:s,handler:ht(o)},handled:!1,type:"instrument"}},a=zr(o);return a&&(i.mechanism.data.handler=ht(a)),Ve(o,i)})}),e.apply(this,t)}}function np(e){const t=E,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ye(n,"addEventListener",function(r){return function(s,o,i){try{typeof o.handleEvent=="function"&&(o.handleEvent=Ve(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ht(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ve(o,{mechanism:{data:{function:"addEventListener",handler:ht(o),target:e},handled:!1,type:"instrument"}}),i])}}),ye(n,"removeEventListener",function(r){return function(s,o,i){const a=o;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,i)}catch{}return r.call(this,s,a,i)}}))}const rp=[Hi(),zi(),la(),Xi(),na(),ca(),Zi(),ia()];function sp(e){return[...rp]}function op(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=sp()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),E.SENTRY_RELEASE&&E.SENTRY_RELEASE.id&&(e.release=E.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:xu(e.stackParser||wf),integrations:hl(e),transport:e.transport||(Ru()?Zd:ef)};Bl(Kd,t),e.autoSessionTracking&&ip()}const so=(e={},t=Ut())=>{if(!E.document){D&&g.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){D&&g.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const o=E.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=fl(s,e),e.onLoad&&(o.onload=e.onLoad);const{onClose:i}=e;if(i){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{i()}finally{E.removeEventListener("message",c)}};E.addEventListener("message",c)}const a=E.document.head||E.document.body;a?a.appendChild(o):D&&g.error("Not injecting report dialog. No injection point found in HTML")};function gS(){}function yS(e){e()}function _S(e){return Ve(e)()}function ip(){if(typeof E.document>"u"){D&&g.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Ns({ignoreDuration:!0}),Ds(),kn(({from:e,to:t})=>{e!==void 0&&e!==t&&(Ns({ignoreDuration:!0}),Ds())})}function SS(e){const t=A();t&&t.captureUserFeedback(e)}const ap=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:kf,Dedupe:Df,GlobalHandlers:Bf,HttpContext:qf,LinkedErrors:Xf,TryCatch:Qf},Symbol.toStringTag,{value:"Module"})),z=Z,Zr="sentryReplaySession",cp="replay_event",Qr="Unable to send Replay",up=3e5,lp=9e5,dp=5e3,fp=5500,pp=6e4,hp=5e3,mp=3,oo=15e4,Qt=5e3,gp=3e3,yp=300,es=2e7,_p=4999,Sp=15e3,io=36e5;function bp(e,t){return e??t()}function hn(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var J;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(J||(J={}));function Ep(e){return e.nodeType===e.ELEMENT_NODE}function Tt(e){const t=hn([e,"optionalAccess",n=>n.host]);return hn([t,"optionalAccess",n=>n.shadowRoot])===e}function Ct(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function vp(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function wp(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function mn(e){try{const t=e.rules||e.cssRules;return t?vp(Array.from(t,da).join("")):null}catch{return null}}function da(e){let t;if(kp(e))try{t=mn(e.styleSheet)||wp(e)}catch{}else if(Tp(e)&&e.selectorText.includes(":"))return Ip(e.cssText);return t||e.cssText}function Ip(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function kp(e){return"styleSheet"in e}function Tp(e){return"selectorText"in e}class fa{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=hn([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return bp(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Cp(){return new fa}function An({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Lt({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function mt(e){return e.toLowerCase()}function wr(e){return e.toUpperCase()}const ao="__rrweb_original__";function Rp(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=ao in o?o[ao]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ts(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?mt(t):null}function gn(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let xp=1;const Mp=new RegExp("[^a-z0-9-_:]"),Pt=-2;function ns(){return xp++}function Ap(e){if(e instanceof HTMLFormElement)return"form";const t=mt(e.tagName);return Mp.test(t)?"div":t}function Op(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Ze,co;const Np=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Dp=/^(?:[a-z+]+:)?\/\//i,Lp=/^www\..*/i,Pp=/^(data:)([^,]*),(.*)/i;function yn(e,t){return(e||"").replace(Np,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(Dp.test(c)||Lp.test(c))return`url(${u}${c}${u})`;if(Pp.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Op(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const Fp=/^[^ \t\n\r\u000c]+/,$p=/^[, \t\n\r\u000c]+/;function Bp(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r($p),!(n>=t.length);){let o=r(Fp);if(o.slice(-1)===",")o=rt(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=rt(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}function rt(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function Hp(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function rs(){const e=document.createElement("a");return e.href="",e.href}function pa(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?rt(e,r):n==="srcset"?Bp(e,r):n==="style"?yn(r,rs()):t==="object"&&n==="data"?rt(e,r):typeof o=="function"?o(n,r,s):r)}function ha(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Up(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function zp(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function He(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:He(e.parentNode,t,n,r+1)}function st(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(zp(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function gt(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=He(i,st(r,s)),c<0)return!0;a=He(i,st(t,n),c>=0?c:1/0)}else{if(a=He(i,st(t,n)),a<0)return!1;c=He(i,st(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function Wp(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function jp(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(o),r=!0,t()})}function Gp(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:y,maskInputFn:S,dataURLOptions:m={},inlineImages:_,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:v=!1}=t,w=qp(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:J.Document,childNodes:[],compatMode:e.compatMode}:{type:J.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:J.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return Yp(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:m,inlineImages:_,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:v,rootId:w,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return Vp(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:y,maskInputOptions:h,maskInputFn:S,rootId:w});case e.CDATA_SECTION_NODE:return{type:J.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:J.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function qp(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Vp(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,y=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||hn([e,"access",m=>m.parentNode,"access",m=>m.sheet,"optionalAccess",m=>m.cssRules])&&(f=mn(e.parentNode.sheet))}catch(m){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${m}`,e)}f=yn(f,rs())}h&&(f="SCRIPT_PLACEHOLDER");const S=gt(e,r,o,s,i,n);if(!p&&!h&&!y&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),y&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const m=An({type:null,tagName:d,maskInputOptions:c});f=Lt({isMasked:gt(e,r,o,s,i,m),element:e,value:f,maskInputFn:u})}return{type:J.Text,textContent:f||"",isStyle:p,rootId:l}}function Yp(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:y,maskTextClass:S,unmaskTextClass:m,maskTextSelector:_,unmaskTextSelector:b}=t,k=Up(e,r,s,o),v=Ap(e);let w={};const C=e.attributes.length;for(let I=0;I<C;I++){const T=e.attributes[I];T.name&&!ha(v,T.name,T.value)&&(w[T.name]=pa(n,v,mt(T.name),T.value,e,c))}if(v==="link"&&i){const I=Array.from(n.styleSheets).find(O=>O.href===e.href);let T=null;I&&(T=mn(I)),T&&(delete w.rel,delete w.href,w._cssText=yn(T,I.href))}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const I=mn(e.sheet);I&&(w._cssText=yn(I,rs()))}if(v==="input"||v==="textarea"||v==="select"||v==="option"){const I=e,T=ts(I),O=gn(I,wr(v),T),j=I.checked;if(T!=="submit"&&T!=="button"&&O){const X=gt(I,S,_,m,b,An({type:T,tagName:wr(v),maskInputOptions:a}));w.value=Lt({isMasked:X,element:I,value:O,maskInputFn:u})}j&&(w.checked=j)}if(v==="option"&&(e.selected&&!a.select?w.selected=!0:delete w.selected),v==="canvas"&&f){if(e.__context==="2d")Rp(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const I=e.toDataURL(l.type,l.quality),T=document.createElement("canvas");T.width=e.width,T.height=e.height;const O=T.toDataURL(l.type,l.quality);I!==O&&(w.rr_dataURL=I)}}if(v==="img"&&d){Ze||(Ze=n.createElement("canvas"),co=Ze.getContext("2d"));const I=e,T=I.crossOrigin;I.crossOrigin="anonymous";const O=()=>{I.removeEventListener("load",O);try{Ze.width=I.naturalWidth,Ze.height=I.naturalHeight,co.drawImage(I,0,0),w.rr_dataURL=Ze.toDataURL(l.type,l.quality)}catch(j){console.warn(`Cannot inline img src=${I.currentSrc}! Error: ${j}`)}T?w.crossOrigin=T:I.removeAttribute("crossorigin")};I.complete&&I.naturalWidth!==0?O():I.addEventListener("load",O)}if((v==="audio"||v==="video")&&(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),k){const{width:I,height:T}=e.getBoundingClientRect();w={class:w.class,rr_width:`${I}px`,rr_height:`${T}px`}}v==="iframe"&&!p(w.src)&&(e.contentDocument||(w.rr_src=w.src),delete w.src);let R;try{customElements.get(v)&&(R=!0)}catch{}return{type:J.Element,tagName:v,attributes:w,childNodes:[],isSVG:Hp(e)||void 0,needBlock:k,rootId:y,isCustom:R}}function U(e){return e==null?"":e.toLowerCase()}function Kp(e,t){if(t.comment&&e.type===J.Comment)return!0;if(e.type===J.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(U(e.attributes.name).match(/^msapplication-tile(image|color)$/)||U(e.attributes.name)==="application-name"||U(e.attributes.rel)==="icon"||U(e.attributes.rel)==="apple-touch-icon"||U(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&U(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(U(e.attributes.property).match(/^(og|twitter|fb):/)||U(e.attributes.name).match(/^(og|twitter):/)||U(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(U(e.attributes.name)==="robots"||U(e.attributes.name)==="googlebot"||U(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(U(e.attributes.name)==="author"||U(e.attributes.name)==="generator"||U(e.attributes.name)==="framework"||U(e.attributes.name)==="publisher"||U(e.attributes.name)==="progid"||U(e.attributes.property).match(/^article:/)||U(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(U(e.attributes.name)==="google-site-verification"||U(e.attributes.name)==="yandex-verification"||U(e.attributes.name)==="csrf-token"||U(e.attributes.name)==="p:domain_verify"||U(e.attributes.name)==="verify-v1"||U(e.attributes.name)==="verification"||U(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ot(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOMOptions:_,dataURLOptions:b={},inlineImages:k=!1,recordCanvas:v=!1,onSerialize:w,onIframeLoad:C,iframeLoadTimeout:R=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:j=!1}=t;let{preserveWhiteSpace:X=!0}=t;const ee=Gp(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,dataURLOptions:b,inlineImages:k,recordCanvas:v,keepIframeSrcFn:O,newlyAddedElement:j});if(!ee)return console.warn(e,"not serialized"),null;let ae;r.hasNode(e)?ae=r.getId(e):Kp(ee,_)||!X&&ee.type===J.Text&&!ee.isStyle&&!ee.textContent.replace(/^\s+|\s+$/gm,"").length?ae=Pt:ae=ns();const B=Object.assign(ee,{id:ae});if(r.add(e,B),ae===Pt)return null;w&&w(e);let fe=!f;if(B.type===J.Element){fe=fe&&!B.needBlock,delete B.needBlock;const K=e.shadowRoot;K&&Ct(K)&&(B.isShadowHost=!0)}if((B.type===J.Document||B.type===J.Element)&&fe){_.headWhitespace&&B.type===J.Element&&B.tagName==="head"&&(X=!1);const K={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOMOptions:_,dataURLOptions:b,inlineImages:k,recordCanvas:v,preserveWhiteSpace:X,onSerialize:w,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:O};for(const ie of Array.from(e.childNodes)){const pe=ot(ie,K);pe&&B.childNodes.push(pe)}if(Ep(e)&&e.shadowRoot)for(const ie of Array.from(e.shadowRoot.childNodes)){const pe=ot(ie,K);pe&&(Ct(e.shadowRoot)&&(pe.isShadow=!0),B.childNodes.push(pe))}}return e.parentNode&&Tt(e.parentNode)&&Ct(e.parentNode)&&(B.isShadow=!0),B.type===J.Element&&B.tagName==="iframe"&&Wp(e,()=>{const K=e.contentDocument;if(K&&C){const ie=ot(K,{doc:K,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOMOptions:_,dataURLOptions:b,inlineImages:k,recordCanvas:v,preserveWhiteSpace:X,onSerialize:w,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:O});ie&&C(e,ie)}},R),B.type===J.Element&&B.tagName==="link"&&B.attributes.rel==="stylesheet"&&jp(e,()=>{if(I){const K=ot(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOMOptions:_,dataURLOptions:b,inlineImages:k,recordCanvas:v,preserveWhiteSpace:X,onSerialize:w,onIframeLoad:C,iframeLoadTimeout:R,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:O});K&&I(e,K)}},T),B}function Xp(e,t){const{mirror:n=new fa,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOM:_=!1,dataURLOptions:b,preserveWhiteSpace:k,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:C,onStylesheetLoad:R,stylesheetLoadTimeout:I,keepIframeSrcFn:T=()=>!1}=t||{};return ot(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:y,maskTextFn:S,maskInputFn:m,slimDOMOptions:_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:_==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:_===!1?{}:_,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:k,onSerialize:v,onIframeLoad:w,iframeLoadTimeout:C,onStylesheetLoad:R,stylesheetLoadTimeout:I,keepIframeSrcFn:T,newlyAddedElement:!1})}function ke(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function re(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const tt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let uo={map:{},getId(){return console.error(tt),-1},getNode(){return console.error(tt),null},removeNodeFromMap(){console.error(tt)},has(){return console.error(tt),!1},reset(){console.error(tt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(uo=new Proxy(uo,{get(e,t,n){return t==="map"&&console.error(tt),Reflect.get(e,t,n)}}));function Ft(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(rh(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=On(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function ma(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){On(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>ma(e,t,o||{},!0)}function ss(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let _n=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(_n=()=>new Date().getTime());function ga(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:ke([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||ke([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||ke([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:ke([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||ke([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||ke([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function ya(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function _a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Sa(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ge(e,t,n,r,s){if(!e)return!1;const o=Sa(e);if(!o)return!1;const i=st(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=He(o,i);let c=-1;return a<0?!1:(r&&(c=He(o,st(null,r))),a>-1&&c<0?!0:a<c)}function Jp(e,t){return t.getId(e)!==-1}function or(e,t){return t.getId(e)===Pt}function ba(e,t){if(Tt(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?ba(e.parentNode,t):!0:!0}function Ir(e){return!!e.changedTouches}function Zp(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ea(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function va(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function kr(e){return!!ke([e,"optionalAccess",t=>t.shadowRoot])}class Qp{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return il(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function wa(e){let t=null;return ke([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function eh(e){let t=e,n;for(;n=wa(t);)t=n;return t}function th(e){const t=e.ownerDocument;if(!t)return!1;const n=eh(e);return t.contains(n)}function Ia(e){const t=e.ownerDocument;return t?t.contains(e)||th(e):!1}const lo={};function os(e){const t=lo[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return lo[e]=r.bind(window)}function nh(...e){return os("requestAnimationFrame")(...e)}function On(...e){return os("setTimeout")(...e)}function rh(...e){return os("clearTimeout")(...e)}var x=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(x||{}),M=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(M||{}),te=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(te||{}),Ee=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ee||{});function sh(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function fo(e){return"__ln"in e}class oh{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=sh([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&fo(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&fo(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const po=(e,t)=>`${e}@${t}`;class ih{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new oh,s=c=>{let u=c,l=Pt;for(;l===Pt;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},o=c=>{if(!c.parentNode||!Ia(c))return;const u=Tt(c.parentNode)?this.mirror.getId(wa(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=ot(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ea(f,this.mirror)&&this.iframeManager.addIframe(f),va(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),kr(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)ho(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!mo(this.droppedSet,c)&&!ho(this.removes,c,this.mirror)||mo(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),l=s(i.value);u!==-1&&l!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!or(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:gt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Sa(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=ts(n),a=n.tagName;s=gn(n,a,i);const c=An({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=gt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Lt({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!ha(n.tagName,r)&&(o.attributes[r]=pa(this.doc,mt(n.tagName),mt(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Tt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||or(n,this.mirror)||!Jp(n,this.mirror)||(this.addedSet.has(n)?(Tr(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||ba(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[po(r,s)]?Tr(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Tt(t.target)&&Ct(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(or(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[po(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ge(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),kr(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Tr(e,t){e.delete(t),t.childNodes.forEach(n=>Tr(e,n))}function ho(e,t,n){return e.length===0?!1:ka(e,t,n)}function ka(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(o=>o.id===s)?!0:ka(e,r,n)}function mo(e,t){return e.size===0?!1:Ta(e,t)}function Ta(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Ta(e,n):!1}let Rt;function ah(e){Rt=e}function ch(){Rt=void 0}const N=e=>Rt?(...n)=>{try{return e(...n)}catch(r){if(Rt&&Rt(r)===!0)return()=>{};throw r}}:e;function _e(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const it=[];function Yt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ca(e,t){const n=new ih;it.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=_e([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(N(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function uh({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=Ft(N(d=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),d),i=[],a=null}),o),u=N(Ft(N(d=>{const f=Yt(d),{clientX:p,clientY:h}=Ir(d)?d.changedTouches[0]:d;a||(a=_n()),i.push({x:p,y:h,id:r.getId(f),timeOffset:_n()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?M.Drag:d instanceof MouseEvent?M.MouseMove:M.TouchMove)}),s,{trailing:!1})),l=[re("mousemove",u,n),re("touchmove",u,n),re("drag",u,n)];return N(()=>{l.forEach(d=>d())})}function lh({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const l=d=>f=>{const p=Yt(f);if(ge(p,r,s,o,!0))return;let h=null,y=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Ee.Mouse;break;case"touch":h=Ee.Touch;break;case"pen":h=Ee.Pen;break}h===Ee.Touch?te[d]===te.MouseDown?y="TouchStart":te[d]===te.MouseUp&&(y="TouchEnd"):Ee.Pen}else Ir(f)&&(h=Ee.Touch);h!==null?(u=h,(y.startsWith("Touch")&&h===Ee.Touch||y.startsWith("Mouse")&&h===Ee.Mouse)&&(h=null)):te[d]===te.Click&&(h=u,u=null);const S=Ir(f)?f.changedTouches[0]:f;if(!S)return;const m=n.getId(p),{clientX:_,clientY:b}=S;N(e)({type:te[y],id:m,x:_,y:b,...h!==null&&{pointerType:h}})};return Object.keys(te).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=mt(d);const p=l(d);if(window.PointerEvent)switch(te[d]){case te.MouseDown:case te.MouseUp:f=f.replace("mouse","pointer");break;case te.TouchStart:case te.TouchEnd:return}c.push(re(f,p,t))}),N(()=>{c.forEach(d=>d())})}function Ra({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=N(Ft(N(c=>{const u=Yt(c);if(!u||ge(u,r,s,o,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=ga(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return re("scroll",a,t)}function dh({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=N(Ft(N(()=>{const o=ya(),i=_a();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return re("resize",s,t)}const fh=["INPUT","TEXTAREA","SELECT"],go=new WeakMap;function ph({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:y}){function S(C){let R=Yt(C);const I=C.isTrusted,T=R&&wr(R.tagName);if(T==="OPTION"&&(R=R.parentElement),!R||!T||fh.indexOf(T)<0||ge(R,r,s,o,!0))return;const O=R;if(O.classList.contains(i)||a&&O.matches(a))return;const j=ts(R);let X=gn(O,T,j),ee=!1;const ae=An({maskInputOptions:c,tagName:T,type:j}),B=gt(R,f,h,p,y,ae);(j==="radio"||j==="checkbox")&&(ee=R.checked),X=Lt({isMasked:B,element:R,value:X,maskInputFn:u}),m(R,d?{text:X,isChecked:ee,userTriggered:I}:{text:X,isChecked:ee});const fe=R.name;j==="radio"&&fe&&ee&&t.querySelectorAll(`input[type="radio"][name="${fe}"]`).forEach(K=>{if(K!==R){const ie=Lt({isMasked:B,element:K,value:gn(K,T,j),maskInputFn:u});m(K,d?{text:ie,isChecked:!ee,userTriggered:!1}:{text:ie,isChecked:!ee})}})}function m(C,R){const I=go.get(C);if(!I||I.text!==R.text||I.isChecked!==R.isChecked){go.set(C,R);const T=n.getId(C);N(e)({...R,id:T})}}const b=(l.input==="last"?["change"]:["input","change"]).map(C=>re(C,N(S),t)),k=t.defaultView;if(!k)return()=>{b.forEach(C=>C())};const v=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),w=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&b.push(...w.map(C=>ma(C[0],C[1],{set(){N(S)({target:this,isTrusted:!1})}},!1,k))),N(()=>{b.forEach(C=>C())})}function Sn(e){const t=[];function n(r,s){if(en("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||en("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||en("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||en("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function Te(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function hh({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:N((l,d,f)=>{const[p,h]=f,{id:y,styleId:S}=Te(d,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,adds:[{rule:p,index:h}]}),l.apply(d,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:N((l,d,f)=>{const[p]=f,{id:h,styleId:y}=Te(d,t,n.styleMirror);return(h&&h!==-1||y&&y!==-1)&&e({id:h,styleId:y,removes:[{index:p}]}),l.apply(d,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:N((l,d,f)=>{const[p]=f,{id:h,styleId:y}=Te(d,t,n.styleMirror);return(h&&h!==-1||y&&y!==-1)&&e({id:h,styleId:y,replace:p}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:N((l,d,f)=>{const[p]=f,{id:h,styleId:y}=Te(d,t,n.styleMirror);return(h&&h!==-1||y&&y!==-1)&&e({id:h,styleId:y,replaceSync:p}),l.apply(d,f)})}));const c={};tn("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(tn("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),tn("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),tn("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:N((f,p,h)=>{const[y,S]=h,{id:m,styleId:_}=Te(p.parentStyleSheet,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,adds:[{rule:y,index:[...Sn(p),S||0]}]}),f.apply(p,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:N((f,p,h)=>{const[y]=h,{id:S,styleId:m}=Te(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||m&&m!==-1)&&e({id:S,styleId:m,removes:[{index:[...Sn(p),y]}]}),f.apply(p,h)})})}),N(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function xa({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?_e([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):_e([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=_e([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(_e([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return _e([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=_e([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),N(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function mh({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:N((a,c,u)=>{const[l,d,f]=u;if(n.has(l))return o.apply(c,[l,d,f]);const{id:p,styleId:h}=Te(_e([c,"access",y=>y.parentRule,"optionalAccess",y=>y.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:l,value:d,priority:f},index:Sn(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:N((a,c,u)=>{const[l]=u;if(n.has(l))return i.apply(c,[l]);const{id:d,styleId:f}=Te(_e([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:Sn(c.parentRule)}),a.apply(c,u)})}),N(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function gh({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=N(u=>Ft(N(l=>{const d=Yt(l);if(!d||ge(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:y}=d;e({type:u,id:s.getId(d),currentTime:f,volume:p,muted:h,playbackRate:y})}),o.media||500)),c=[re("play",a(0),i),re("pause",a(1),i),re("seeked",a(2),i),re("volumechange",a(3),i),re("ratechange",a(4),i)];return N(()=>{c.forEach(u=>u())})}function yh({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,l){const d=new o(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const i=ss(t.fonts,"add",function(a){return function(c){return On(N(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),N(()=>{r.forEach(a=>a())})}function _h(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=N(()=>{const u=t.getSelection();if(!u||a&&_e([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:y,endContainer:S,endOffset:m}=p;ge(h,r,s,o,!0)||ge(S,r,s,o,!0)||l.push({start:n.getId(h),startOffset:y,end:n.getId(S),endOffset:m})}i({ranges:l})});return c(),re("selectionchange",c)}function Sh({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ss(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function bh(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Ca(e,e.doc),s=uh(e),o=lh(e),i=Ra(e),a=dh(e,{win:n}),c=ph(e),u=gh(e),l=hh(e,{win:n}),d=xa(e,e.doc),f=mh(e,{win:n}),p=e.collectFonts?yh(e):()=>{},h=_h(e),y=Sh(e),S=[];for(const m of e.plugins)S.push(m.observer(m.callback,n,m.options));return N(()=>{it.forEach(m=>m.reset()),r.disconnect(),s(),o(),i(),a(),c(),u(),l(),d(),f(),p(),h(),y(),S.forEach(m=>m())})}function en(e){return typeof window[e]<"u"}function tn(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Cr{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function yo(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class Eh{constructor(){this.crossOriginIframeMirror=new Cr(ns),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class vh{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Cr(ns),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Cr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),yo([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case x.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:x.IncrementalSnapshot,data:{source:M.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case x.Meta:case x.Load:case x.DomContentLoaded:return!1;case x.Plugin:return n;case x.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case x.IncrementalSnapshot:switch(n.data.source){case M.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case M.Drag:case M.TouchMove:case M.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case M.ViewportResize:return!1;case M.MediaInteraction:case M.MouseInteraction:case M.Scroll:case M.CanvasMutation:case M.Input:return this.replaceIds(n.data,t,["id"]),n;case M.StyleSheetRule:case M.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case M.Font:return n;case M.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case M.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),yo([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==J.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class wh{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ih{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Ct(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=Ca({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Ra({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),On(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(xa({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ss(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Ia(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class _o{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class kh{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Qp,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:da(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Th{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){nh(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let V,bn;const me=Cp();function Me(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:y,maskInputOptions:S,slimDOMOptions:m,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,maxCanvasSize:v=null,packFn:w,sampling:C={},dataURLOptions:R={},mousemoveWait:I,recordCanvas:T=!1,recordCrossOriginIframes:O=!1,recordAfter:j=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:X=!1,collectFonts:ee=!1,inlineImages:ae=!1,plugins:B,keepIframeSrcFn:fe=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:ie,onMutation:pe,getCanvasManager:Jn}=e;ah(ie);const Xe=O?window.parent===window:!0;let we=!1;if(!Xe)try{window.parent.document&&(we=!1)}catch{we=!0}if(Xe&&!t)throw new Error("emit function is required");I!==void 0&&C.mousemove===void 0&&(C.mousemove=I),me.reset();const Je=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},vt=m===!0||m==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:m==="all",headMetaDescKeywords:m==="all"}:m||{};Zp();let Zn,Qn=0;const Is=P=>{for(const he of B||[])he.eventProcessor&&(P=he.eventProcessor(P));return w&&!we&&(P=w(P)),P};V=(P,he)=>{const L=P;if(L.timestamp=_n(),an([it,"access",q=>q[0],"optionalAccess",q=>q.isFrozen,"call",q=>q()])&&L.type!==x.FullSnapshot&&!(L.type===x.IncrementalSnapshot&&L.data.source===M.Mutation)&&it.forEach(q=>q.unfreeze()),Xe)an([t,"optionalCall",q=>q(Is(L),he)]);else if(we){const q={type:"rrweb",event:Is(L),origin:window.location.origin,isCheckout:he};window.parent.postMessage(q,"*")}if(L.type===x.FullSnapshot)Zn=L,Qn=0;else if(L.type===x.IncrementalSnapshot){if(L.data.source===M.Mutation&&L.data.isAttachIframe)return;Qn++;const q=r&&Qn>=r,F=n&&Zn&&L.timestamp-Zn.timestamp>n;(q||F)&&tr(!0)}};const Xt=P=>{V({type:x.IncrementalSnapshot,data:{source:M.Mutation,...P}})},ks=P=>V({type:x.IncrementalSnapshot,data:{source:M.Scroll,...P}}),jc=P=>V({type:x.IncrementalSnapshot,data:{source:M.CanvasMutation,...P}}),Gc=P=>V({type:x.IncrementalSnapshot,data:{source:M.AdoptedStyleSheet,...P}}),De=new kh({mutationCb:Xt,adoptedStyleSheetCb:Gc}),Le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Eh:new vh({mirror:me,mutationCb:Xt,stylesheetManager:De,recordCrossOriginIframes:O,wrappedEmit:V});for(const P of B||[])P.getMirror&&P.getMirror({nodeMirror:me,crossOriginIframeMirror:Le.crossOriginIframeMirror,crossOriginIframeStyleMirror:Le.crossOriginIframeStyleMirror});const er=new Th,Ts=Rh(Jn,{mirror:me,win:window,mutationCb:P=>V({type:x.IncrementalSnapshot,data:{source:M.CanvasMutation,...P}}),recordCanvas:T,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:v,sampling:C.canvas,dataURLOptions:R,errorHandler:ie}),Jt=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new wh:new Ih({mutationCb:Xt,scrollCb:ks,bypassOptions:{onMutation:pe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Je,dataURLOptions:R,maskAttributeFn:_,maskTextFn:k,maskInputFn:b,recordCanvas:T,inlineImages:ae,sampling:C,slimDOMOptions:vt,iframeManager:Le,stylesheetManager:De,canvasManager:Ts,keepIframeSrcFn:fe,processedNodeManager:er},mirror:me}),tr=(P=!1)=>{V({type:x.Meta,data:{href:window.location.href,width:_a(),height:ya()}},P),De.reset(),Jt.init(),it.forEach(L=>L.lock());const he=Xp(document,{mirror:me,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Je,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,slimDOM:vt,dataURLOptions:R,recordCanvas:T,inlineImages:ae,onSerialize:L=>{Ea(L,me)&&Le.addIframe(L),va(L,me)&&De.trackLinkElement(L),kr(L)&&Jt.addShadowRoot(L.shadowRoot,document)},onIframeLoad:(L,q)=>{Le.attachIframe(L,q),Jt.observeAttachShadow(L)},onStylesheetLoad:(L,q)=>{De.attachLinkElement(L,q)},keepIframeSrcFn:fe});if(!he)return console.warn("Failed to snapshot the document");V({type:x.FullSnapshot,data:{node:he,initialOffset:ga(window)}}),it.forEach(L=>L.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&De.adoptStyleSheets(document.adoptedStyleSheets,me.getId(document))};bn=tr;try{const P=[],he=q=>N(bh)({onMutation:pe,mutationCb:Xt,mousemoveCb:(F,Pe)=>V({type:x.IncrementalSnapshot,data:{source:Pe,positions:F}}),mouseInteractionCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.MouseInteraction,...F}}),scrollCb:ks,viewportResizeCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.ViewportResize,...F}}),inputCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.Input,...F}}),mediaInteractionCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.MediaInteraction,...F}}),styleSheetRuleCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.StyleSheetRule,...F}}),styleDeclarationCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.StyleDeclaration,...F}}),canvasMutationCb:jc,fontCb:F=>V({type:x.IncrementalSnapshot,data:{source:M.Font,...F}}),selectionCb:F=>{V({type:x.IncrementalSnapshot,data:{source:M.Selection,...F}})},customElementCb:F=>{V({type:x.IncrementalSnapshot,data:{source:M.CustomElement,...F}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Je,inlineStylesheet:h,sampling:C,recordCanvas:T,inlineImages:ae,userTriggeredOnInput:X,collectFonts:ee,doc:q,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,keepIframeSrcFn:fe,blockSelector:o,unblockSelector:i,slimDOMOptions:vt,dataURLOptions:R,mirror:me,iframeManager:Le,stylesheetManager:De,shadowDomManager:Jt,processedNodeManager:er,canvasManager:Ts,ignoreCSSAttributes:K,plugins:an([B,"optionalAccess",F=>F.filter,"call",F=>F(Pe=>Pe.observer),"optionalAccess",F=>F.map,"call",F=>F(Pe=>({observer:Pe.observer,options:Pe.options,callback:qc=>V({type:x.Plugin,data:{plugin:Pe.name,payload:qc}})}))])||[]},{});Le.addLoadListener(q=>{try{P.push(he(q.contentDocument))}catch(F){console.warn(F)}});const L=()=>{tr(),P.push(he(document))};return document.readyState==="interactive"||document.readyState==="complete"?L():(P.push(re("DOMContentLoaded",()=>{V({type:x.DomContentLoaded,data:{}}),j==="DOMContentLoaded"&&L()})),P.push(re("load",()=>{V({type:x.Load,data:{}}),j==="load"&&L()},window))),()=>{P.forEach(q=>q()),er.destroy(),bn=void 0,ch()}}catch(P){console.warn(P)}}function Ch(e){if(!bn)throw new Error("please take full snapshot after start recording");bn(e)}Me.mirror=me;Me.takeFullSnapshot=Ch;function Rh(e,t){try{return e?e(t):new _o}catch{return console.warn("Unable to initialize CanvasManager"),new _o}}const xh=3,Mh=5;function is(e){return e>9999999999?e:e*1e3}function ir(e){return e>9999999999?e/1e3:e}function Kt(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:x.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Yr(t,10,1e3)}}),t.category==="console")))}const Ah="button,a";function Ma(e){return e.closest(Ah)||e}function Aa(e){const t=Oa(e);return!t||!(t instanceof Element)?t:Ma(t)}function Oa(e){return Oh(e)?e.target:e}function Oh(e){return typeof e=="object"&&!!e&&"target"in e}let Ce;function Nh(e){return Ce||(Ce=[],Dh()),Ce.push(e),()=>{const t=Ce?Ce.indexOf(e):-1;t>-1&&Ce.splice(t,1)}}function Dh(){ye(z,"open",function(e){return function(...t){if(Ce)try{Ce.forEach(n=>n())}catch{}return e.apply(z,t)}})}function Lh(e,t,n){e.handleClick(t,n)}class Ph{constructor(t,n,r=Kt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Nh(()=>{this._lastMutation=So()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if($h(n,this._ignoreSelector)||!Bh(t))return;const r={timestamp:ir(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ir(t)}registerScroll(t=Date.now()){this._lastScroll=ir(t)}registerClick(t){const n=Ma(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=So();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:z.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,l);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:z.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const Fh=["A","BUTTON","INPUT"];function $h(e,t){return!!(!Fh.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Bh(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function So(){return Date.now()/1e3}function Hh(e,t){try{if(!Uh(t))return;const{source:n}=t.data;if(n===M.Mutation&&e.registerMutation(t.timestamp),n===M.Scroll&&e.registerScroll(t.timestamp),zh(t)){const{type:r,id:s}=t.data,o=Me.mirror.getNode(s);o instanceof HTMLElement&&r===te.Click&&e.registerClick(o)}}catch{}}function Uh(e){return e.type===xh}function zh(e){return e.data.source===M.MouseInteraction}function be(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var En;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(En||(En={}));const Wh=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function jh(e){const t={};for(const n in e)if(Wh.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const Gh=e=>t=>{if(!e.isEnabled())return;const n=qh(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&Lh(e.clickDetector,n,Aa(t.event)),Kt(e,n)};function Na(e,t){const n=Me.mirror.getId(e),r=n&&Me.mirror.getNode(n),s=r&&Me.mirror.getMeta(r),o=s&&Yh(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===En.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:jh(o.attributes)}}:{}}}function qh(e){const{target:t,message:n}=Vh(e);return be({category:`ui.${e.name}`,...Na(t,n)})}function Vh(e){const t=e.name==="click";let n,r=null;try{r=t?Aa(e.event):Oa(e.event),n=Vr(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Yh(e){return e.type===En.Element}function Kh(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Xh(t);n&&Kt(e,n)}function Xh(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||Jh(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=Vr(i,{maxStringLength:200})||"<unknown>",l=Na(i,u);return be({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function Jh(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const bo={resource:nm,paint:em,navigation:tm};function Zh(e){return e.map(Qh).filter(Boolean)}function Qh(e){return bo[e.entryType]?bo[e.entryType](e):null}function yt(e){return((Dt||z.performance.timeOrigin)+e)/1e3}function em(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=yt(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function tm(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:y}=e;return s===0?null:{type:`${t}.${y}`,start:yt(p),end:yt(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}}}function nm(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:yt(o),end:yt(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function rm(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,o=yt(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:s,size:s,nodeId:r?Me.mirror.getId(r):void 0}}}function sm(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(hr(s,n))}),r.push(Mu(({metric:s})=>{e.replayPerformanceEntries.push(rm(s))})),()=>{r.forEach(s=>s())}}const H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,om='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function im(){const e=new Blob([om]);return URL.createObjectURL(e)}function ne(e,t){H&&(g.info(e),t&&Da(e))}function lt(e,t){H&&(g.info(e),t&&setTimeout(()=>{Da(e)},0))}function Da(e){Oe({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class as extends Error{constructor(){super(`Event buffer exceeded maximum size of ${es}.`)}}class La{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>es)throw new as;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?is(t):null}}class am{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ne("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){H&&g.error("[Replay]",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class cm{constructor(t){this._worker=new am(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=is(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>es?Promise.reject(new as):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{H&&g.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class um{constructor(t){this._fallback=new La,this._compression=new cm(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ne("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){H&&g.warn("[Replay] Failed to add events when switching buffers.",s)}}}function lm({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=dm(t);if(n)return n}return ne("[Replay] Using simple buffer"),new La}function dm(e){try{const t=e||fm();if(!t)return;ne(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new um(n)}catch{ne("[Replay] Failed to create compression worker")}}function fm(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?im():""}function cs(){try{return"sessionStorage"in z&&!!z.sessionStorage}catch{return!1}}function pm(e){hm(),e.session=void 0}function hm(){if(cs())try{z.sessionStorage.removeItem(Zr)}catch{}}function Pa(e){return e===void 0?!1:Math.random()<e}function Fa(e){const t=Date.now(),n=e.id||In(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function us(e){if(cs())try{z.sessionStorage.setItem(Zr,JSON.stringify(e))}catch{}}function mm(e,t){return Pa(e)?"session":t?"buffer":!1}function Eo({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=mm(e,t),o=Fa({sampled:s,previousSessionId:r});return n&&us(o),o}function gm(e){if(!cs())return null;try{const t=z.sessionStorage.getItem(Zr);if(!t)return null;const n=JSON.parse(t);return lt("[Replay] Loading existing session",e),Fa(n)}catch{return null}}function Rr(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function $a(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Rr(e.started,t,r)||Rr(e.lastActivity,n,r)}function Ba(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!$a(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ar({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const o=s.stickySession&&gm(e);return o?Ba(o,{sessionIdleExpire:t,maxReplayDuration:n})?(lt("[Replay] Session in sessionStorage is expired, creating new one..."),Eo(s,{previousSessionId:o.id})):o:(lt("[Replay] Creating new session",e),Eo(s,{previousSessionId:r}))}function ym(e){return e.type===x.Custom}function ls(e,t,n){return Ua(e,t)?(Ha(e,t,n),!0):!1}function _m(e,t,n){return Ua(e,t)?Ha(e,t,n):Promise.resolve(null)}async function Ha(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=Sm(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof as?"addEventSizeExceeded":"addEvent";H&&g.error(r),await e.stop({reason:s});const o=A();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function Ua(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=is(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ne(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function Sm(e,t){try{if(typeof t=="function"&&ym(e))return t(e)}catch(n){return H&&g.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function ds(e){return!e.type}function xr(e){return e.type==="transaction"}function bm(e){return e.type==="replay_event"}function vo(e){return e.type==="feedback"}function za(e){const t=wm();return(n,r)=>{if(!e.isEnabled()||!ds(n)&&!xr(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(xr(n)){Em(e,n);return}vm(e,n)}}}function Em(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function vm(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function wm(){const e=A();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function Im(e){return t=>{!e.isEnabled()||!ds(t)||km(e,t)}}function km(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=be({category:"replay.hydrate-error"});Kt(e,r)}}function Tm(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Cm(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:x.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Rm(e,t){return e.recordingMode!=="buffer"||t.message===Qr||!t.exception||t.type?!1:Pa(e.getOptions().errorSampleRate)}function xm(e,t=!1){const n=t?za(e):void 0;return Object.assign((r,s)=>e.isEnabled()?bm(r)?(delete r.breadcrumbs,r):!ds(r)&&!xr(r)&&!vo(r)||!e.checkAndHandleExpiredSession()?r:vo(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),Cm(e,r),r):Tm(r,s)&&!e.getOptions()._experiments.captureExceptions?(H&&g.log("[Replay] Ignoring error from rrweb internals",r),null):((Rm(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Nn(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:x.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function Mm(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Am(e){return t=>{if(!e.isEnabled())return;const n=Mm(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Nn(e,[n]),!1)))}}function Om(e,t){return H&&e.getOptions()._experiments.traceInternals?!1:Li(t,A())}function Dn(e,t){e.isEnabled()&&t!==null&&(Om(e,t.name)||e.addUpdate(()=>(Nn(e,[t]),!0)))}function Nm(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:o,url:i}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:i,data:{method:o,statusCode:s?s.status:void 0}}}function Dm(e){return t=>{if(!e.isEnabled())return;const n=Nm(t);Dn(e,n)}}function Lm(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[Cn];if(!t||!n||!s)return null;const{method:o,url:i,status_code:a}=s;return i===void 0?null:{type:"resource.xhr",name:i,start:t/1e3,end:n/1e3,data:{method:o,statusCode:a}}}function Pm(e){return t=>{if(!e.isEnabled())return;const n=Lm(t);Dn(e,n)}}function Ln(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=qa(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Wa(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ja(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[qa(e)];if(!e)return[void 0]}catch{return H&&g.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return H&&g.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function vn(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Ga(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:$r({method:o,statusCode:i,request:a,response:c})}}function $t(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ae(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=Fm(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function Mr(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function qa(e){return new URLSearchParams(e).toString()}function Fm(e){if(!e||typeof e!="string")return{body:e};const t=e.length>oo,n=$m(e);if(t){const r=e.slice(0,oo);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function $m(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function wn(e,t){const n=Bm(e);return zt(n,t)}function Bm(e,t=z.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(z.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Hm(e,t,n){try{const r=await zm(e,t,n),s=Ga("resource.fetch",r);Dn(n.replay,s)}catch(r){H&&g.error("[Replay] Failed to capture fetch breadcrumb",r)}}function Um(e,t,n){const{input:r,response:s}=t,o=r?Va(r):void 0,i=Ln(o,n.textEncoder),a=s?Wa(s.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}async function zm(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=wn(i,n.networkDetailAllowUrls)&&!wn(i,n.networkDetailDenyUrls),f=d?Wm(n,t.input,u):$t(u),p=await jm(d,n,t.response,l);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function Wm({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?Vm(n,t):{};if(!e)return Ae(s,r,void 0);const o=Va(n),[i,a]=ja(o),c=Ae(s,r,i);return a?vn(c,a):c}async function jm(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,o){if(!e&&o!==void 0)return $t(o);const i=s?Ya(s.headers,r):{};if(!s||!t&&o!==void 0)return Ae(i,o,void 0);const[a,c]=await qm(s),u=Gm(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:o,captureDetails:e,headers:i});return c?vn(u,c):u}function Gm(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:o}){try{const i=e&&e.length&&r===void 0?Ln(e,n):r;return s?t?Ae(o,i,e):Ae(o,i,void 0):$t(i)}catch(i){return H&&g.warn("[Replay] Failed to serialize response body",i),Ae(o,r,void 0)}}async function qm(e){const t=Ym(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Km(t)]}catch(n){return H&&g.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function Va(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Ya(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Vm(e,t){return e.length===1&&typeof e[0]!="string"?wo(e[0],t):e.length===2?wo(e[1],t):{}}function wo(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Ya(n,t):Array.isArray(n)?{}:Mr(n,t):{}}function Ym(e){try{return e.clone()}catch(t){H&&g.warn("[Replay] Failed to clone response body",t)}}function Km(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);Xm(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Xm(e){return await e.text()}async function Jm(e,t,n){try{const r=Qm(e,t,n),s=Ga("resource.xhr",r);Dn(n.replay,s)}catch(r){H&&g.error("[Replay] Failed to capture xhr breadcrumb",r)}}function Zm(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const o=Ln(s,n.textEncoder),i=r.getResponseHeader("content-length")?Wa(r.getResponseHeader("content-length")):rg(r.response,r.responseType,n.textEncoder);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function Qm(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!wn(c,n.networkDetailAllowUrls)||wn(c,n.networkDetailDenyUrls)){const w=$t(d),C=$t(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:l,request:w,response:C}}const p=a[Cn],h=p?Mr(p.request_headers,n.networkRequestHeaders):{},y=Mr(eg(a),n.networkResponseHeaders),[S,m]=n.networkCaptureBodies?ja(i):[void 0],[_,b]=n.networkCaptureBodies?tg(a):[void 0],k=Ae(h,d,S),v=Ae(y,f,_);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:l,request:m?vn(k,m):k,response:b?vn(v,b):v}}function eg(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return n[s.toLowerCase()]=o,n},{}):{}}function tg(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return ng(e.response,e.responseType)}catch(n){t.push(n)}return H&&g.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function ng(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return H&&g.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return H&&g.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function rg(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Ln(r,n)}catch{return}}function sg(e){const t=A();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>og(c,u,l)):(qr(Dm(e)),Gr(Pm(e)))}catch{}}function og(e,t,n){if(t.data)try{ig(t)&&cg(n)&&(Zm(t,n,e),Jm(t,n,e)),ag(t)&&ug(n)&&(Um(t,n,e),Hm(t,n,e))}catch{H&&g.warn("Error when enriching network breadcrumb")}}function ig(e){return e.category==="xhr"}function ag(e){return e.category==="fetch"}function cg(e){return e&&e.xhr}function ug(e){return e&&e.response}let Io=null;function lg(e){return!!e.category}const dg=e=>t=>{if(!e.isEnabled())return;const n=fg(t);n&&Kt(e,n)};function fg(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Io===t||!t||(Io=t,!lg(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?pg(t):be(t)}function pg(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return be(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Qt?(n=!0,`${s.slice(0,Qt)}`):s;if(typeof s=="object")try{const o=Yr(s,7);return JSON.stringify(o).length>Qt?(n=!0,`${JSON.stringify(o,null,2).slice(0,Qt)}`):o}catch{}return s});return be({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function hg(e){const t=ve(),n=A();t.addScopeListener(dg(e)),Si(Gh(e)),kn(Am(e)),sg(e);const r=xm(e,!ko(n));n&&n.addEventProcessor?n.addEventProcessor(r):Ol(r),ko(n)&&(n.on("beforeSendEvent",Im(e)),n.on("afterSendEvent",za(e)),n.on("createDsc",s=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=o)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,o)=>{const i=e.getSessionId();o&&o.includeReplay&&e.isEnabled()&&i&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=i)}))}function ko(e){return!!(e&&e.on)}async function mg(e){try{return Promise.all(Nn(e,[gg(z.performance.memory)]))}catch{return[]}}function gg(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function yg(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),i&&o===void 0&&(o=setTimeout(a,i)),r}return l.cancel=c,l.flush=u,l}function _g(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){H&&g.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&Hh(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!ls(e,n,s))return!0;if(!s)return!1;if(bg(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(ne(`[Replay] Updating session start time to earliest event in buffer to ${new Date(o)}`,e.getOptions()._experiments.traceInternals),e.session.started=o,e.getOptions().stickySession&&us(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Sg(e){const t=e.getOptions();return{type:x.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function bg(e,t){!t||!e.session||e.session.segmentId!==0||ls(e,Sg(e),!1)}function Eg(e,t,n,r){return Ne(ci(e,Fr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function vg({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function wg({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,o);const i=await Ur(e.getOptions(),r,o,t,e,Hr());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function Ig({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=vg({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=A(),f=ve(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!p||!h||!o.sampled)return;const y={type:cp,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},S=await wg({scope:f,client:d,replayId:t,event:y});if(!S){d.recordDroppedEvent("event_processor","replay",y),ne("An event processor returned `null`, will not send event.");return}delete S.sdkProcessingMetadata;const m=Eg(S,i,h,d.getOptions().tunnel);let _;try{_=await p.send(m)}catch(k){const v=new Error(Qr);try{v.cause=k}catch{}throw v}if(!_)return _;if(typeof _.statusCode=="number"&&(_.statusCode<200||_.statusCode>=300))throw new Ka(_.statusCode);const b=wi({},_);if(vi(b,"replay"))throw new Xa(b);return _}class Ka extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Xa extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Ja(e,t={count:0,interval:hp}){const{recordingData:n,options:r}=e;if(n.length)try{return await Ig(e),!0}catch(s){if(s instanceof Ka||s instanceof Xa)throw s;if(Au("Replays",{_retryCount:t.count}),H&&r._experiments&&r._experiments.captureExceptions&&jt(s),t.count>=mp){const o=new Error(`${Qr} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{setTimeout(async()=>{try{await Ja(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const Za="__THROTTLED",kg="__SKIPPED";function Tg(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const l=i;return i=!0,l?kg:Za}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Re{constructor({options:t,recordingOptions:n}){Re.prototype.__init.call(this),Re.prototype.__init2.call(this),Re.prototype.__init3.call(this),Re.prototype.__init4.call(this),Re.prototype.__init5.call(this),Re.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:up,sessionIdleExpire:lp},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=yg(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Tg((i,a)=>_m(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(gp,r),timeout:r,scrollTimeout:yp,ignoreSelector:s?s.join(","):""}:void 0;o&&(this.clickDetector=new Ph(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",lt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");lt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=ar({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");lt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=ar({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Me({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:pp},emit:_g(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ne(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,pm(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ne("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ne("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();ne("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Rr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${z.location.pathname}${z.location.hash}${z.location.search}`,n=`${z.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Za){const s=be({category:"replay.throttled"});this.addUpdate(()=>!ls(this,{type:Mh,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||ve().getTransaction(),r=(t&&se(t).data||{})[oe];if(!(!t||!r||!["route","custom"].includes(r)))return se(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=lm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){H&&g.error("[Replay]",t),H&&this._options._experiments&&this._options._experiments.captureExceptions&&jt(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=ar({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Ba(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{z.document.addEventListener("visibilitychange",this._handleVisibilityChange),z.addEventListener("blur",this._handleWindowBlur),z.addEventListener("focus",this._handleWindowFocus),z.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(hg(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=sm(this)}_removeListeners(){try{z.document.removeEventListener("visibilitychange",this._handleVisibilityChange),z.removeEventListener("blur",this._handleWindowBlur),z.removeEventListener("focus",this._handleWindowFocus),z.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{z.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=be({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=be({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Kh(this,t)}}_doChangeToBackgroundTasks(t){!this.session||$a(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ne("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:x.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=Zh(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Nn(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){H&&g.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await mg(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Ja({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=A();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){H&&g.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){ne(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),o&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ne("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){H&&g.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&us(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=be({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function wt(e,t,n,r){const s=typeof r=="string"?r.split(","):[],o=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&o.push(`.${n}`),At(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),o.join(",")}function Cg({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=wt(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=wt(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:wt(n,[".sentry-block","[data-sentry-block]",...l],o,i),unblockSelector:wt(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:wt(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return o instanceof RegExp&&(p.blockClass=o),a instanceof RegExp&&(p.maskTextClass=a),p}function Rg({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const To='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',xg=["content-length","content-type","accept"];let Co=!1;const bS=e=>new Pn(e);class Pn{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=dp,flushMaxDelay:n=fp,minReplayDuration:r=_p,maxReplayDuration:s=io,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:y=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:b=[],networkCaptureBodies:k=!0,networkRequestHeaders:v=[],networkResponseHeaders:w=[],mask:C=[],maskAttributes:R=["title","placeholder"],unmask:I=[],block:T=[],unblock:O=[],ignore:j=[],maskFn:X,beforeAddRecordingEvent:ee,beforeErrorSampling:ae,blockClass:B,blockSelector:fe,maskInputOptions:K,maskTextClass:ie,maskTextSelector:pe,ignoreClass:Jn}={}){this.name=Pn.id;const Xe=Cg({mask:C,unmask:I,block:T,unblock:O,ignore:j,blockClass:B,blockSelector:fe,maskTextClass:ie,maskTextSelector:pe,ignoreClass:Jn});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...K||{},password:!0},maskTextFn:X,maskInputFn:X,maskAttributeFn:(we,Je,vt)=>Rg({maskAttributes:R,maskAllText:d,privacyOptions:Xe,key:we,value:Je,el:vt}),...Xe,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:we=>{try{we.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Sp),maxReplayDuration:Math.min(s,io),stickySession:o,sessionSampleRate:u,errorSampleRate:l,useCompression:i,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:y,slowClickTimeout:S,slowClickIgnoreSelectors:m,networkDetailAllowUrls:_,networkDetailDenyUrls:b,networkCaptureBodies:k,networkRequestHeaders:Ro(v),networkResponseHeaders:Ro(w),beforeAddRecordingEvent:ee,beforeErrorSampling:ae,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${To}`:To),this._isInitialized&&br())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Co}set _isInitialized(t){Co=t}setupOnce(){br()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=Mg(this._initialOptions);this._replay=new Re({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=A().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}Pn.__initStatic();function Mg(e){const t=A(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...$r(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&At(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(At(()=>{console.warn("SDK client is not available.")}),r)}function Ro(e){return[...xg,...e.map(t=>t.toLowerCase())]}function ES(){const e=A();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var xo;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(xo||(xo={}));function Ag(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ar(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ar(e.parentNode,t,n,r+1)}function Mo(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Ag(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const nt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ao={map:{},getId(){return console.error(nt),-1},getNode(){return console.error(nt),null},removeNodeFromMap(){console.error(nt)},has(){return console.error(nt),!1},reset(){console.error(nt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ao=new Proxy(Ao,{get(e,t,n){return t==="map"&&console.error(nt),Reflect.get(e,t,n)}}));function fs(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){ec(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>fs(e,t,o||{},!0)}function ps(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function Og(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Fn(e,t,n,r,s){if(!e)return!1;const o=Og(e);if(!o)return!1;const i=Mo(t,n),a=Ar(o,i);let c=-1;return a<0?!1:(r&&(c=Ar(o,Mo(null,r))),a>-1&&c<0?!0:a<c)}const Oo={};function Qa(e){const t=Oo[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Oo[e]=r.bind(window)}function Fe(...e){return Qa("requestAnimationFrame")(...e)}function ec(...e){return Qa("setTimeout")(...e)}var _t=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(_t||{});let cn;function Ng(e){cn=e}const No=e=>cn?(...n)=>{try{return e(...n)}catch(r){if(cn&&cn(r)===!0)return()=>{};throw r}}:e;var at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nn=0;nn<at.length;nn++)Dg[at.charCodeAt(nn)]=nn;var Lg=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=at[t[n]>>2],s+=at[(t[n]&3)<<4|t[n+1]>>4],s+=at[(t[n+1]&15)<<2|t[n+2]>>6],s+=at[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const Do=new Map;function Pg(e,t){let n=Do.get(e);return n||(n=new Map,Do.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const tc=(e,t,n)=>{if(!e||!(rc(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=Pg(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function un(e,t,n){if(e instanceof Array)return e.map(r=>un(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=Lg(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[un(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[un(e.data,t,n),e.width,e.height]};if(rc(e,t)||typeof e=="object"){const r=e.constructor.name,s=tc(e,t,n);return{rr_type:r,index:s}}}}return e}const nc=(e,t,n)=>e.map(r=>un(r,t,n)),rc=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function Fg(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=ps(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return Fn(this.canvas,n,r,s,!0)||ec(()=>{const d=nc(l,t,this);e(this.canvas,{type:_t["2D"],property:a,args:d})},0),u.apply(this,l)}});o.push(c)}catch{const u=fs(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:_t["2D"],property:a,args:[l],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function $g(e){return e==="experimental-webgl"?"webgl":e}function Lo(e,t,n,r,s){const o=[];try{const i=ps(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Fn(this,t,n,r,!0)){const l=$g(c);if("__context"in this||(this.__context=l),s&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){const d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function Po(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const d=ps(e,l,function(f){return function(...p){const h=f.apply(this,p);if(tc(h,a,this),"tagName"in this.canvas&&!Fn(this.canvas,r,s,o,!0)){const y=nc(p,a,this),S={type:t,property:l,args:y};n(this.canvas,S)}return h}});c.push(d)}catch{const f=fs(e,l,{set(p){n(this.canvas,{type:t,property:l,args:[p],setter:!0})}});c.push(f)}return c}function Bg(e,t,n,r,s,o){const i=[];return i.push(...Po(t.WebGLRenderingContext.prototype,_t.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Po(t.WebGL2RenderingContext.prototype,_t.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var Hg='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function Ug(){const e=new Blob([Hg]);return URL.createObjectURL(e)}class zg{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&Ng(l),!t.enableManualSnapshot&&No(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,o,i),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,o,i,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,s,o,i,a){const c=Lo(n,r,s,o,!0),u=this.takeSnapshot(!1,t,n,r,s,o,i,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=Lo(t,n,r,s,!1),i=Fg(this.processMutation.bind(this),t,n,r,s),a=Bg(this.processMutation.bind(this),t,n,r,s,this.mirror);this.resetObservers=()=>{o(),i(),a()}}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,s,o,i,a,c,u){const l=new Map,d=new Worker(Ug());d.onmessage=m=>{const _=m.data,{id:b}=_;if(l.set(b,!1),!("base64"in _))return;const{base64:k,type:v,width:w,height:C}=_;this.mutationCb({id:b,type:_t["2D"],commands:[{property:"clearRect",args:[0,0,w,C]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:k}],type:v}]},0,0,w,C]}]})};const f=1e3/n;let p=0,h;const y=m=>{if(m)return[m];const _=[];return r.document.querySelectorAll("canvas").forEach(b=>{Fn(b,s,o,i)||_.push(b)}),_},S=m=>{if(p&&m-p<f){h=Fe(S);return}p=m,y(u).forEach(_=>{const b=this.mirror.getId(_);if(!l.get(b)&&!(!_.width||!_.height)){if(l.set(b,!0),!t&&["webgl","webgl2"].includes(_.__context)){const k=_.getContext(_.__context);an([k,"optionalAccess",v=>v.getContextAttributes,"call",v=>v(),"optionalAccess",v=>v.preserveDrawingBuffer])===!1&&k.clear(k.COLOR_BUFFER_BIT)}createImageBitmap(_).then(k=>{d.postMessage({id:b,bitmap:k,width:_.width,height:_.height,dataURLOptions:c,maxCanvasSize:a},[k])}).catch(k=>{No(()=>{throw k})()})}}),h=Fe(S)};return h=Fe(S),h}startPendingCanvasMutationFlusher(){Fe(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Fe(t)};Fe(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Fe(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const Fo={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},sc="ReplayCanvas",rn=1280,Wg=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,rn):rn,n?Math.min(n,rn):rn]};let s;const o=new Promise(i=>s=i);return{name:sc,setupOnce(){},getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const l=new zg({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(l),l},...Fo[i]||Fo.medium}},async snapshot(i){(await o).snapshot(i)}}},jg=Wg,vS=Y(sc,jg),Ke=Z,cr="#ffffff",$o="inherit",ur="rgba(108, 95, 199, 1)",Bo={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:cr,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ur,submitBorder:ur,submitOutlineFocus:"#29232f",submitForeground:cr,submitForegroundHover:cr,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:$o,inputForeground:$o,inputBorder:"var(--border)",inputOutlineFocus:ur,formBorderRadius:"20px",formContentBorderRadius:"6px"},Ho={light:Bo,dark:{...Bo,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},Gg="Report a Bug",qg="Cancel",Vg="Send Bug Report",Yg="Report a Bug",Kg="your.email@example.org",Xg="Email",Jg="What's the bug? What did you expect?",Zg="Description",Qg="Your Name",ey="Name",ty="(required)",ny="Thank you for your report!",oc="widget",ic="api";async function ry({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await Ur(e.getOptions(),n,r,t,e,Hr());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function sy({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:o=!0}={}){const i=A(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return Wt(async l=>{l.clearBreadcrumbs(),[ic,oc].includes(String(r))&&l.setLevel("info");const d=await ry({scope:l,client:i,event:u});if(!d)return;i.emit&&i.emit("beforeSendFeedback",d,{includeReplay:!!o});const f=Ii(d,c,i.getOptions()._metadata,i.getOptions().tunnel);let p;try{p=await a.send(f)}catch(h){const y=new Error("Unable to send Feedback");try{y.cause=h}catch{}throw y}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function oy({name:e,email:t,message:n,source:r=ic,url:s=mi()},o={}){if(!n)throw new Error("Unable to submit feedback with empty message");return sy({feedback:{name:e,email:t,message:n,url:s,source:r}},o)}const $e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Uo(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function iy(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function ay(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function zo(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function cy(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${zo(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${zo(n.dark)}
  }
}`:""}
}`,r}function uy({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Ke.document,o=s.createElement("div");o.id=e;const i=o.attachShadow({mode:"open"});return i.appendChild(cy(s,t,{dark:n,light:r})),i.appendChild(ay(s)),{shadow:i,host:o}}catch{throw g.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function ly(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await oy({...t,source:oc},n)}catch(s){$e&&g.error(s),r()}}function ue(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const Qe=20,dy="http://www.w3.org/2000/svg";function fy(){const e=a=>Ke.document.createElementNS(dy,a),t=ue(e("svg"),{class:"feedback-icon",width:`${Qe}`,height:`${Qe}`,viewBox:`0 0 ${Qe} ${Qe}`,fill:"none"}),n=ue(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ue(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=ue(e("clipPath"),{id:"clip0_57_80"}),i=ue(e("rect"),{width:`${Qe}`,height:`${Qe}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),{get el(){return t}}}function G(e,t,...n){const s=Ke.document.createElement(e);t&&Object.entries(t).forEach(([o,i])=>{o==="className"&&typeof i=="string"?s.setAttribute("class",i):typeof i=="boolean"&&i?s.setAttribute(o,""):typeof i=="string"?s.setAttribute(o,i):o.startsWith("on")&&typeof i=="function"&&s.addEventListener(o.substring(2).toLowerCase(),i)});for(const o of n)ac(s,o);return s}function ac(e,t){const n=Ke.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)ac(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function py({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=G("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},fy().el,e?G("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function hy({label:e}){return{el:G("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function lr(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function my({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:o,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:h,onCancel:y,onSubmit:S}){const{el:m}=hy({label:c});function _(O){if(O.preventDefault(),O.target instanceof HTMLFormElement)try{if(S){const j=new FormData(O.target),X={name:lr(j,"name"),email:lr(j,"email"),message:lr(j,"message")};S(X)}}catch{}}const b=G("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function k(O){b.textContent=O,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function v(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}const w=G("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),C=G("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:h}),R=G("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),I=G("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:O=>{y&&y(O)}},a),T=G("form",{className:"form",onSubmit:_},[b,u&&G("label",{htmlFor:"name",className:"form__label"},[G("span",{className:"form__label__text"},e,d&&G("span",{className:"form__label__text--required"},` ${i}`)),w]),!u&&w,l&&G("label",{htmlFor:"email",className:"form__label"},[G("span",{className:"form__label__text"},n,f&&G("span",{className:"form__label__text--required"},` ${i}`)),C]),!l&&C,G("label",{htmlFor:"message",className:"form__label"},[G("span",{className:"form__label__text"},s,G("span",{className:"form__label__text--required"},` ${i}`)),R]),G("div",{className:"btn-group"},[m,I])]);return{get el(){return T},showError:k,hideError:v}}const gy="http://www.w3.org/2000/svg";function yy({colorScheme:e}){const t=i=>Ke.document.createElementNS(gy,i),n=ue(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=ue(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),o=t("style");return o.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(o.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(o),n.append(s),{get el(){return n}}}function _y({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:o,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let p=null;function h(){y(),u&&u()}function y(){p&&(p.open=!1)}function S(){p&&(p.open=!0)}function m(){return p&&p.open===!0||!1}const{el:_,showError:b,hideError:k}=my({showEmail:r,showName:n,isEmailRequired:o,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return p=G("dialog",{className:"dialog",open:!0,onClick:h},G("div",{className:"dialog__content",onClick:v=>{v.stopPropagation()}},G("h2",{className:"dialog__header"},e,t&&G("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},yy({colorScheme:i}).el)),_)),{get el(){return p},showError:b,hideError:k,open:S,close:y,checkIsOpen:m}}const sn=16,Wo=17,Sy="http://www.w3.org/2000/svg";function by(){const e=c=>Ke.document.createElementNS(Sy,c),t=ue(e("svg"),{class:"success-icon",width:`${sn}`,height:`${Wo}`,viewBox:`0 0 ${sn} ${Wo}`,fill:"none"}),n=ue(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ue(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=ue(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=ue(e("clipPath"),{id:"clip0_57_156"}),a=ue(e("rect"),{width:`${sn}`,height:`${sn}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}function Ey({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=G("div",{className:"success-message",onClick:n},by().el,e);return{el:r,remove:n}}function jo({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,o,i=!1;function a(){if(e)try{const m=Ey({message:n.successMessageText,onRemove:()=>{_&&clearTimeout(_),l()}});if(!m.el)throw new Error("Unable to show success message");e.appendChild(m.el);const _=setTimeout(()=>{m&&m.remove()},5e3)}catch(m){g.error(m)}}async function c(m){if(!o)return;const _=[];if(n.isNameRequired&&!m.name&&_.push(n.nameLabel),n.isEmailRequired&&!m.email&&_.push(n.emailLabel),m.message||_.push(n.messageLabel),_.length>0){o.showError(`Please enter in the following required fields: ${_.join(", ")}`);return}if(!await ly(o,m)){n.onSubmitError&&n.onSubmitError();return}y(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const m=A(),_=m&&m.getIntegrationByName&&m.getIntegrationByName("Replay");_&&_.flush().catch(b=>{$e&&g.error(b)})}function l(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(o){o.open(),i=!0,n.onFormOpen&&n.onFormOpen(),u();return}const m=n.useSentryUser,_=ve(),b=_&&_.getUser();if(o=_y({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:m&&b&&b[m.name]||"",defaultEmail:m&&b&&b[m.email]||"",onClosed:()=>{l(),i=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),l()},onSubmit:c}),!o.el)throw new Error("Unable to open Feedback dialog");e.appendChild(o.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(m){g.error(m)}}function h(){o&&(o.close(),i=!1,n.onFormClose&&n.onFormClose())}function y(){if(o){h();const m=o.el;m&&m.remove(),o=void 0}}function S(){i||p(),d()}return r?r.addEventListener("click",S):t&&(s=py({buttonLabel:n.buttonLabel,onClick:S}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return o},showActor:l,hideActor:d,removeActor:f,openDialog:p,closeDialog:h,removeDialog:y}}const on=Ke.document,wS=e=>new $n(e);class $n{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:o=!0,showEmail:i=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=Gg,cancelButtonLabel:p=qg,submitButtonLabel:h=Vg,formTitle:y=Yg,emailPlaceholder:S=Kg,emailLabel:m=Xg,messagePlaceholder:_=Jg,messageLabel:b=Zg,namePlaceholder:k=Qg,nameLabel:v=ey,isRequiredLabel:w=ty,successMessageText:C=ny,onFormClose:R,onFormOpen:I,onSubmitError:T,onSubmitSuccess:O}={}){this.name=$n.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:o,id:n,isEmailRequired:r,isNameRequired:s,showEmail:i,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Ho.dark,...u},themeLight:{...Ho.light,...l},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:h,formTitle:y,emailLabel:m,emailPlaceholder:S,messageLabel:b,messagePlaceholder:_,nameLabel:v,namePlaceholder:k,isRequiredLabel:w,successMessageText:C,onFormClose:R,onFormOpen:I,onSubmitError:T,onSubmitSuccess:O}}setupOnce(){if(br())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){$e&&g.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=Uo(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const o=typeof t=="string"?on.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!o)return $e&&g.error("[Feedback] Unable to attach to target element"),null;const i=jo({shadow:s,options:r,attachTo:o});return this._widgets.add(i),this._widget||(this._widget=i),i})}catch(r){return $e&&g.error(r),null}}createWidget(t){try{return this._createWidget(Uo(this.options,t||{}))}catch(n){return $e&&g.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){$e&&g.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=on.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=jo({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(iy(on)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:o,colorScheme:i,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=uy({id:o,colorScheme:i,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&on.body.appendChild(this._host),s}}$n.__initStatic();const cc="CaptureConsole",vy=(e={})=>{const t=e.levels||ii;return{name:cc,setupOnce(){},setup(n){"console"in Z&&_i(({args:r,level:s})=>{A()!==n||!t.includes(s)||Iy(r,s)})}}},wy=vy;Y(cc,wy);function Iy(e,t){const n={level:bi(t),extra:{arguments:e}};Wt(r=>{if(r.addEventProcessor(i=>(i.logger="console",pt(i,{handled:!1,type:"console"}),i)),t==="assert"&&e[0]===!1){const i=`Assertion failed: ${fn(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),gr(i,n);return}const s=e.find(i=>i instanceof Error);if(t==="error"&&s){jt(s,n);return}const o=fn(e," ");gr(o,n)})}const uc="Debug",ky=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:uc,setupOnce(){},setup(n){n.on&&n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;At(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},Ty=ky;Y(uc,Ty);const St=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lc="Dedupe",Cy=()=>{let e;return{name:lc,setupOnce(){},processEvent(t){if(t.type)return t;try{if(xy(t,e))return St&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Ry=Cy;Y(lc,Ry);function xy(e,t){return t?!!(My(e,t)||Ay(e,t)):!1}function My(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!fc(e,t)||!dc(e,t))}function Ay(e,t){const n=Go(t),r=Go(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!fc(e,t)||!dc(e,t))}function dc(e,t){let n=qo(e),r=qo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function fc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Go(e){return e.exception&&e.exception.values&&e.exception.values[0]}function qo(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const pc="ExtraErrorData",Oy=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:pc,setupOnce(){},processEvent(r,s){return Dy(r,s,t,n)}}},Ny=Oy;Y(pc,Ny);function Dy(e,t={},n,r){if(!t.originalException||!ut(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,o=Ly(t.originalException,r);if(o){const i={...e.contexts},a=Yr(o,n);return dn(a)&&(Mt(a,"__sentry_skip_normalization__",!0),i[s]=a),{...e,contexts:i}}return e}function Ly(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(e)){if(n.indexOf(s)!==-1)continue;const o=e[s];r[s]=ut(o)?o.toString():o}if(t&&e.cause!==void 0&&(r.cause=ut(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const s=e.toJSON();for(const o of Object.keys(s)){const i=s[o];r[o]=ut(i)?i.toString():i}}return r}catch(n){St&&g.error("Unable to extract extra data from the Error object:",n)}return null}const Py=Z,hc="ReportingObserver",Vo=new WeakMap,Fy=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(Vo.has(A()))for(const s of r)Wt(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}gr(`${i}: ${a}`)})}return{name:hc,setupOnce(){if(!Ou())return;new Py.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Vo.set(r,!0)}}},$y=Fy;Y(hc,$y);const mc="RewriteFrames",By=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(i=>{if(!i.filename)return i;const a=/^[a-zA-Z]:\\/.test(i.filename)||i.filename.includes("\\")&&!i.filename.includes("/"),c=/^\//.test(i.filename);if(a||c){const u=a?i.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):i.filename,l=t?Ju(t,u):Zu(u);i.filename=`${n}${l}`}return i});function s(i){try{return{...i,exception:{...i.exception,values:i.exception.values.map(a=>({...a,...a.stacktrace&&{stacktrace:o(a.stacktrace)}}))}}}catch{return i}}function o(i){return{...i,frames:i&&i.frames&&i.frames.map(a=>r(a))}}return{name:mc,setupOnce(){},processEvent(i){let a=i;return i.exception&&Array.isArray(i.exception.values)&&(a=s(a)),a}}},Hy=By;Y(mc,Hy);const gc="SessionTiming",Uy=()=>{const e=Date.now();return{name:gc,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},zy=Uy;Y(gc,zy);const yc="HttpClient",Wy=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:yc,setupOnce(){},setup(n){Zy(n,t),Qy(n,t)}}},jy=Wy;Y(yc,jy);function Gy(e,t,n,r){if(Sc(e,n.status,n.url)){const s=e_(t,r);let o,i,a,c;Ec()&&([{headers:o,cookies:a},{headers:i,cookies:c}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:n}].map(({cookieHeader:l,obj:d})=>{const f=Yy(d.headers);let p;try{const h=f[l]||f[l.toLowerCase()]||void 0;h&&(p=_c(h))}catch{St&&g.log(`Could not extract cookies from header ${l}`)}return{headers:f,cookies:p}}));const u=bc({url:s.url,method:s.method,status:n.status,requestHeaders:o,responseHeaders:i,requestCookies:a,responseCookies:c});Rn(u)}}function qy(e,t,n,r){if(Sc(e,t.status,t.responseURL)){let s,o,i;if(Ec()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(o=_c(c))}catch{St&&g.log("Could not extract cookies from response headers")}try{i=Ky(t)}catch{St&&g.log("Could not extract headers from response")}s=r}const a=bc({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:i,responseCookies:o});Rn(a)}}function Vy(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function _c(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return t[r]=s,t},{})}function Yy(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Ky(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return n[s]=o,n},{}):{}}function Xy(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Jy(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function Zy(e,t){Nu()&&qr(n=>{if(A()!==e)return;const{response:r,args:s}=n,[o,i]=s;r&&Gy(t,o,r,i)})}function Qy(e,t){"XMLHttpRequest"in Z&&Gr(n=>{if(A()!==e)return;const r=n.xhr,s=r[Cn];if(!s)return;const{method:o,request_headers:i}=s;try{qy(t,r,o,i)}catch(a){St&&g.warn("Error while extracting response event form XHR response",a)}})}function Sc(e,t,n){return Jy(e.failedRequestStatusCodes,t)&&Xy(e.failedRequestTargets,n)&&!Li(n,A())}function bc(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Vy(e.responseHeaders)}}};return pt(n,{type:"http.client",handled:!1}),n}function e_(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Ec(){const e=A();return e?!!e.getOptions().sendDefaultPii:!1}const dr=Z,t_=7,vc="ContextLines",n_=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:t_;return{name:vc,setupOnce(){},processEvent(n){return s_(n,t)}}},r_=n_;Y(vc,r_);function s_(e,t){const n=dr.document,r=dr.location&&Du(dr.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>o_(u,i,r,t)))}),e}function o_(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Lu(t,e,r),e}function Bt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function i_(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Bt(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function wc(e){return Bt(e.getAllKeys())}function a_(e,t,n){return e(r=>wc(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Bt(r.transaction)}))}function c_(e){return e(t=>wc(t).then(n=>{if(n.length!==0)return Bt(t.get(n[0])).then(r=>(t.delete(n[0]),Bt(t.transaction).then(()=>r)))}))}function u_(e){let t;function n(){return t==null&&(t=i_(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await di(r,e.textEncoder);await a_(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await c_(n());if(r)return Pu(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function l_(e){return t=>e({...t,createStore:u_})}function IS(e){return l_(Gl(e))}const Yo=1e6,ln=String(0),d_="main";let Ic="",kc="",Tc="",Or=E.navigator&&E.navigator.userAgent||"",Cc="";const f_=E.navigator&&E.navigator.language||E.navigator&&E.navigator.languages&&E.navigator.languages[0]||"";function p_(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Ko=E.navigator&&E.navigator.userAgentData;p_(Ko)&&Ko.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Ic=e.platform||"",Tc=e.architecture||"",Cc=e.model||"",kc=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Or=`${t.brand} ${t.version}`}}).catch(e=>{});function h_(e){return!("thread_metadata"in e)}function m_(e){return h_(e)?__(e):e}function g_(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&D&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function y_(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=g_(r),o=m_(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Fu,runtime:{name:"javascript",version:E.navigator.userAgent},os:{name:Ic,version:kc,build_number:Or},device:{locale:f_,model:Cc,manufacturer:Or,architecture:Tc,is_emulator:!1},debug_meta:{images:E_(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||In(),trace_id:s,active_thread_id:ln,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Rc(e){return e.op==="pageload"}function __(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[ln]:{name:d_}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,o=typeof performance.timeOrigin=="number"?performance.timeOrigin:Dt||0,i=o-(Dt||o);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+i-s)*Yo).toFixed(0),stack_id:t,thread_id:ln};continue}let u=e.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+i-s)*Yo).toFixed(0),stack_id:n,thread_id:ln};r.stacks[n]=l,r.samples[a]=d,n++}return r}function S_(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function b_(e){const t=[];return Ot(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}const Xo=new WeakMap;function E_(e){const t=Z._sentryDebugIds;if(!t)return[];const n=A(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let o;const i=Xo.get(s);i?o=i:(o=new Map,Xo.set(s,o));const a=Object.keys(t).reduce((u,l)=>{let d;const f=o.get(l);f?d=f:(d=s(l),o.set(l,d));for(let p=d.length-1;p>=0;p--){const h=d[p],y=h&&h.filename;if(h&&y){u[y]=t[l];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function v_(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(D&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(D&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function w_(e){return e.samples.length<2?(D&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(D&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}let xc=!1;const Mc=3e4;function I_(e){return typeof e=="function"}function k_(){const e=E.Profiler;if(!I_(e)){D&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Mc/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{D&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),xc=!0}}function Nr(e){if(xc)return D&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return D&&g.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=A(),n=t&&t.getOptions();if(!n)return D&&g.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return v_(r)?r?(r===!0?!0:Math.random()<r)?!0:(D&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(D&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(D&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function T_(e,t,n,r){return w_(n)?y_(e,t,n,r):null}const Ue=new Map;function C_(){return Ue.size}function R_(e){const t=Ue.get(e);return t&&Ue.delete(e),t}function x_(e,t){if(Ue.set(e,t),Ue.size>30){const n=Ue.keys().next().value;Ue.delete(n)}}function kS(e){return e?Nr(e)?Dr(e):e:(D&&g.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function Dr(e){let t;Rc(e)&&(t=Nt()*1e3);const n=k_();if(!n)return e;D&&g.log(`[Profiling] started profiling transaction: ${se(e).description}`);const r=In();async function s(){return!e||!n?null:n.stop().then(c=>(o&&(E.clearTimeout(o),o=void 0),D&&g.log(`[Profiling] stopped profiling of transaction: ${se(e).description}`),c?(x_(r,c),null):(D&&g.log(`[Profiling] profiler returned null profile for: ${se(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(D&&g.log("[Profiling] error while stopping profiler:",c),null))}let o=E.setTimeout(()=>{D&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",se(e).description),s()},Mc);const i=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),i()},()=>{i()}),e):i()}return e.end=a,e}const Ac="BrowserProfiling",M_=()=>({name:Ac,setupOnce(){},setup(e){const n=ve().getTransaction();if(n&&Rc(n)&&Nr(n)&&Dr(n),typeof e.on!="function"){g.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{Nr(r)&&Dr(r)}),e.on("beforeEnvelope",r=>{if(!C_())return;const s=b_(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){D&&g.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){D&&g.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const l=R_(c);if(!l){D&&g.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const d=T_(c,u,l,i);d&&o.push(d)}S_(r,o)})}}),A_=M_,TS=Y(Ac,A_);let Oc={};E.Sentry&&E.Sentry.Integrations&&(Oc=E.Sentry.Integrations);const CS={...Oc,...Ad,...ap};function RS(e){const t={...e};Pi(t,"react"),op(t)}var Nc={exports:{}},$={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=typeof Symbol=="function"&&Symbol.for,hs=Q?Symbol.for("react.element"):60103,ms=Q?Symbol.for("react.portal"):60106,Bn=Q?Symbol.for("react.fragment"):60107,Hn=Q?Symbol.for("react.strict_mode"):60108,Un=Q?Symbol.for("react.profiler"):60114,zn=Q?Symbol.for("react.provider"):60109,Wn=Q?Symbol.for("react.context"):60110,gs=Q?Symbol.for("react.async_mode"):60111,jn=Q?Symbol.for("react.concurrent_mode"):60111,Gn=Q?Symbol.for("react.forward_ref"):60112,qn=Q?Symbol.for("react.suspense"):60113,O_=Q?Symbol.for("react.suspense_list"):60120,Vn=Q?Symbol.for("react.memo"):60115,Yn=Q?Symbol.for("react.lazy"):60116,N_=Q?Symbol.for("react.block"):60121,D_=Q?Symbol.for("react.fundamental"):60117,L_=Q?Symbol.for("react.responder"):60118,P_=Q?Symbol.for("react.scope"):60119;function de(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hs:switch(e=e.type,e){case gs:case jn:case Bn:case Un:case Hn:case qn:return e;default:switch(e=e&&e.$$typeof,e){case Wn:case Gn:case Yn:case Vn:case zn:return e;default:return t}}case ms:return t}}}function Dc(e){return de(e)===jn}$.AsyncMode=gs;$.ConcurrentMode=jn;$.ContextConsumer=Wn;$.ContextProvider=zn;$.Element=hs;$.ForwardRef=Gn;$.Fragment=Bn;$.Lazy=Yn;$.Memo=Vn;$.Portal=ms;$.Profiler=Un;$.StrictMode=Hn;$.Suspense=qn;$.isAsyncMode=function(e){return Dc(e)||de(e)===gs};$.isConcurrentMode=Dc;$.isContextConsumer=function(e){return de(e)===Wn};$.isContextProvider=function(e){return de(e)===zn};$.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs};$.isForwardRef=function(e){return de(e)===Gn};$.isFragment=function(e){return de(e)===Bn};$.isLazy=function(e){return de(e)===Yn};$.isMemo=function(e){return de(e)===Vn};$.isPortal=function(e){return de(e)===ms};$.isProfiler=function(e){return de(e)===Un};$.isStrictMode=function(e){return de(e)===Hn};$.isSuspense=function(e){return de(e)===qn};$.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bn||e===jn||e===Un||e===Hn||e===qn||e===O_||typeof e=="object"&&e!==null&&(e.$$typeof===Yn||e.$$typeof===Vn||e.$$typeof===zn||e.$$typeof===Wn||e.$$typeof===Gn||e.$$typeof===D_||e.$$typeof===L_||e.$$typeof===P_||e.$$typeof===N_)};$.typeOf=de;Nc.exports=$;var F_=Nc.exports,ys=F_,$_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},H_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lc={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_s={};_s[ys.ForwardRef]=H_;_s[ys.Memo]=Lc;function Jo(e){return ys.isMemo(e)?Lc:_s[e.$$typeof]||$_}var U_=Object.defineProperty,z_=Object.getOwnPropertyNames,Zo=Object.getOwnPropertySymbols,W_=Object.getOwnPropertyDescriptor,j_=Object.getPrototypeOf,Qo=Object.prototype;function Pc(e,t,n){if(typeof t!="string"){if(Qo){var r=j_(t);r&&r!==Qo&&Pc(e,r,n)}var s=z_(t);Zo&&(s=s.concat(Zo(t)));for(var o=Jo(e),i=Jo(t),a=0;a<s.length;++a){var c=s[a];if(!B_[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=W_(t,c);try{U_(e,c,u)}catch{}}}}return e}var G_=Pc;const Kn=Bu(G_),Fc="ui.react.render",q_="ui.react.update",$c="ui.react.mount",ei="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",V_="unknown";class Bc extends le.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=kt({name:`<${n}>`,onlyIfParent:!0,op:$c,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=Nt();this._updateSpan=Ls(this._mountSpan,()=>kt({name:`<${this.props.name}>`,onlyIfParent:!0,op:q_,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Nt(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=se(this._mountSpan).timestamp;Ls(this._mountSpan,()=>{const o=kt({onlyIfParent:!0,name:`<${n}>`,op:Fc,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Bc.__initStatic();function xS(e,t){const n=t&&t.name||e.displayName||e.name||V_,r=s=>le.createElement(Bc,{...t,name:n,updateProps:s,__self:this,__source:{fileName:ei,lineNumber:159}},le.createElement(e,{...s,__self:this,__source:{fileName:ei,lineNumber:160}}));return r.displayName=`profiler(${n})`,Kn(r,e),r}function MS(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=le.useState(()=>{if(!(t&&t.disabled))return kt({name:`<${e}>`,onlyIfParent:!0,op:$c,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});le.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=se(n).timestamp,s=Nt(),o=kt({name:`<${e}>`,onlyIfParent:!0,op:Fc,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});o&&o.end(s)}}),[])}const Ss=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ti="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function Y_(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const K_="unknown",ni={componentStack:null,error:null,eventId:null};function X_(e,t){const n=new WeakMap;function r(s,o){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,o);s.cause=o}}r(e,t)}class bs extends le.Component{constructor(t){super(t),bs.prototype.__init.call(this),this.state=ni,this._openFallbackReportDialog=!0;const n=A();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&so({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:o,dialogOptions:i}=this.props;Wt(a=>{if(Y_(le.version)&&ut(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,X_(t,u)}r&&r(a,t,n);const c=jt(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,c),o&&(this._lastEventId=c,this._openFallbackReportDialog&&so({...i,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(ni)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,le.isValidElement(s)?s:(t&&Ss&&g.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function AS(e,t){const n=e.displayName||e.name||K_,r=s=>le.createElement(bs,{...t,__self:this,__source:{fileName:ti,lineNumber:240}},le.createElement(e,{...s,__self:this,__source:{fileName:ti,lineNumber:241}}));return r.displayName=`errorBoundary(${n})`,Kn(r,e),r}const J_="redux.action",Z_="info",Q_={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function OS(e){const t={...Q_,...e};return n=>(r,s)=>(t.attachReduxState&&$u().addEventProcessor((i,a)=>{try{i.type===void 0&&i.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(i.contexts.state.state.value)}])}catch{}return i}),n((i,a)=>{const c=r(i,a),u=ve(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:J_,data:l,type:Z_});const d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){const p=A(),h=p&&p.getOptions(),y=h&&h.normalizeDepth||3,S={state:{type:"redux",value:d}};Mt(S,"__sentry_override_normalization_depth__",3+y),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function NS(e){const t=Mn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{Gt(a,d)},u=d=>{qt(a,d)},l=eS(n,r,s);l(c,o,!1),l(u,!1,i)}}}function eS(e,t,n){return(r,s=!0,o=!0)=>{let i,a;s&&E&&E.location&&ri(t,E.location,n,(c,u="url")=>{a=c,i=r({name:a,attributes:{[qe]:"pageload",[Ge]:"auto.pageload.react.reactrouter_v3",[oe]:u}})}),o&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(i&&i.end(),ri(t,c,n,(u,l="url")=>{a=u;const d={[qe]:"navigation",[Ge]:"auto.navigation.react.reactrouter_v3",[oe]:l};i=r({name:a,attributes:d})}))})}}function ri(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=tS(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function tS(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const nS="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let ct;function DS(e){const t=Mn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{Gt(a,d)},u=d=>{qt(a,d)},l=rS(n,r,s);l(c,o,!1),l(u,!1,i)}}}function LS(e){const t=Mn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s}=e;return{...t,afterAllSetup(o){t.afterAllSetup(o);const i=u=>{Gt(o,u)},a=u=>{qt(o,u)},c=sS(n,r,s);c(i,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function rS(e,t,n){return Hc(e,"reactrouter_v4",t,n)}function sS(e,t,n){return Hc(e,"reactrouter_v5",t,n)}function Hc(e,t,n=[],r){function s(){if(e&&e.location)return e.location.pathname;if(E&&E.location)return E.location.pathname}function o(i){if(n.length===0||!r)return[i,"url"];const a=Uc(n,i,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[i,"url"]}return(i,a=!0,c=!0)=>{const u=s();if(a&&u){const[l,d]=o(u);ct=i({name:l,attributes:{[qe]:"pageload",[Ge]:`auto.pageload.react.${t}`,[oe]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){ct&&ct.end();const[f,p]=o(l.pathname);ct=i({name:f,attributes:{[qe]:"navigation",[Ge]:`auto.navigation.react.${t}`,[oe]:p}})}})}}function Uc(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:oS(t);return o&&(r.push({route:s,match:o}),s.routes&&Uc(s.routes,t,n,r)),!!o}),r}function oS(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function PS(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,o=iS();o&&(o.updateName(s),o.setAttribute(oe,"route"))}return le.createElement(e,{...r,__self:this,__source:{fileName:nS,lineNumber:279}})};return n.displayName=`sentryRoute(${t})`,Kn(n,e),n}function iS(){if(ct)return ct;const e=Tn(),t=e?gi(e):void 0;if(!t)return;const n=se(t).op;return n==="navigation"||n==="pageload"?t:void 0}const zc="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let dt,ze,We,je,xt,Ye,bt,Xn,Be=!1;function FS(e){const t=Mn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:s,createRoutesFromChildren:o,matchRoutes:i,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);const d=p=>{qt(l,p)},f=E&&E.location&&E.location.pathname;c&&f&&Gt(l,{name:f,attributes:{[oe]:"url",[qe]:"pageload",[Ge]:"auto.pageload.react.reactrouter_v6"}}),ze=n,We=r,je=s,Ye=i,xt=o,Be=a||!1,bt=d,Xn=u}}}function $S(e,t,n,r,s,o){return(i,a=!0,c=!0)=>{const u=E&&E.location&&E.location.pathname;a&&u&&(dt=i({name:u,attributes:{[oe]:"url",[qe]:"pageload",[Ge]:"auto.pageload.react.reactrouter_v6"}})),ze=e,We=t,je=n,Ye=s,xt=r,Be=o||!1,bt=i,Xn=c}}function fr(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Wc(e,t,n,r=""){if(!e||e.length===0)return[Be?fr(t.pathname,r):t.pathname,"url"];let s="";if(n)for(let o=0;o<n.length;o++){const i=n[o],a=i.route;if(a){if(a.index)return[Be?fr(i.pathname,r):i.pathname,"route"];const c=a.path;if(c){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s+=u,r+i.pathname===t.pathname)return Ps(s)!==Ps(i.pathname)&&s.slice(-2)!=="/*"?[(Be?"":r)+u,"route"]:[(Be?"":r)+s,"route"]}}}return[Be?fr(t.pathname,r):t.pathname,"url"]}function Es(e,t,n,r,s){const o=Array.isArray(r)?r:Ye(n,t,s);if(e&&o){const[i,a]=Wc(n,t,o,s);e.updateName(i),e.setAttribute(oe,a)}}function vs(e,t,n,r,s){const o=Array.isArray(r)?r:Ye(t,e,s);if(Xn&&(n==="PUSH"||n==="POP")&&o){dt&&dt.end();const[i,a]=Wc(t,e,o,s);dt=bt({name:i,attributes:{[oe]:a,[qe]:"navigation",[Ge]:"auto.navigation.react.reactrouter_v6"}})}}function BS(e){if(!ze||!We||!je||!xt||!Ye||!bt)return Ss&&g.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${ze}. useLocation: ${We}. useNavigationType: ${je}.
      createRoutesFromChildren: ${xt}. matchRoutes: ${Ye}. customStartTransaction: ${bt}.`),e;let t=!0;const n=r=>{const s=We(),o=je();return ze(()=>{const i=xt(r.children);t?(Es(ws(),s,i),t=!1):vs(s,i,o)},[s,o]),le.createElement(e,{...r,__self:this,__source:{fileName:zc,lineNumber:329}})};return Kn(n,e),n}function HS(e){if(!ze||!We||!je||!Ye||!bt)return Ss&&g.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;const n=r=>{const{routes:s,locationArg:o}=r,i=e(s,o),a=We(),c=je(),u=typeof o=="string"||o&&o.pathname?o:a;return ze(()=>{const l=typeof u=="string"?{pathname:u}:u;t?(Es(ws(),l,s),t=!1):vs(l,s,c)},[c,u]),i};return(r,s)=>le.createElement(n,{routes:r,locationArg:s,__self:this,__source:{fileName:zc,lineNumber:386}})}function US(e){return function(t,n){const r=e(t,n),s=n&&n.basename,o=ws();return r.state.historyAction==="POP"&&o&&Es(o,r.state.location,t,void 0,s),r.subscribe(i=>{const a=i.location;Xn&&(i.historyAction==="PUSH"||i.historyAction==="POP")&&vs(a,t,i.historyAction,void 0,s)}),r}}function ws(){if(dt)return dt;const e=Tn(),t=e?gi(e):void 0;if(!t)return;const n=se(t).op;return n==="navigation"||n==="pageload"?t:void 0}export{kf as Breadcrumbs,Kd as BrowserClient,TS as BrowserProfilingIntegration,jS as BrowserTracing,Df as Dedupe,bs as ErrorBoundary,$n as Feedback,yd as FunctionToString,Bf as GlobalHandlers,qf as HttpContext,GS as Hub,id as InboundFilters,CS as Integrations,Xf as LinkedErrors,fS as ModuleMetadata,Bc as Profiler,Pn as Replay,vS as ReplayCanvas,As as SDK_VERSION,qe as SEMANTIC_ATTRIBUTE_SENTRY_OP,Ge as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,qS as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,oe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,VS as Scope,Qf as TryCatch,E as WINDOW,Oe as addBreadcrumb,Ol as addEventProcessor,Zc as addGlobalEventProcessor,uS as addIntegration,iu as addTracingExtensions,Xi as breadcrumbsIntegration,la as browserApiErrorsIntegration,A_ as browserProfilingIntegration,Mn as browserTracingIntegration,wy as captureConsoleIntegration,Rn as captureEvent,jt as captureException,gr as captureMessage,Ds as captureSession,SS as captureUserFeedback,lf as chromeStackLineParser,YS as close,KS as configureScope,r_ as contextLinesIntegration,XS as continueTrace,OS as createReduxEnhancer,Ni as createTransport,Vd as createUserFeedbackEnvelope,Ty as debugIntegration,Ry as dedupeIntegration,rp as defaultIntegrations,cu as defaultRequestInstrumentationOptions,vf as defaultStackLineParsers,wf as defaultStackParser,JS as endSession,Wd as eventFromException,jd as eventFromMessage,Vi as exceptionFromError,Ny as extraErrorDataIntegration,ZS as extractTraceparentData,wS as feedbackIntegration,QS as flush,gS as forceLoad,zi as functionToStringIntegration,hf as geckoStackLineParser,Tn as getActiveSpan,pi as getActiveTransaction,A as getClient,Ut as getCurrentHub,ve as getCurrentScope,sp as getDefaultIntegrations,eb as getHubFromCarrier,ES as getReplay,tb as getSpanStatusFromHttpCode,na as globalHandlersIntegration,jy as httpClientIntegration,ia as httpContextIntegration,Hi as inboundFiltersIntegration,RS as init,hu as instrumentOutgoingRequests,nb as isInitialized,rb as lastEventId,ca as linkedErrorsIntegration,IS as makeBrowserOfflineTransport,Zd as makeFetchTransport,sb as makeMain,lS as makeMultiplexedTransport,ef as makeXHRTransport,pS as metrics,nd as moduleMetadataIntegration,yS as onLoad,kS as onProfilingStartRouteTransaction,hS as opera10StackLineParser,mS as opera11StackLineParser,dS as parameterize,NS as reactRouterV3BrowserTracingIntegration,eS as reactRouterV3Instrumentation,DS as reactRouterV4BrowserTracingIntegration,rS as reactRouterV4Instrumentation,LS as reactRouterV5BrowserTracingIntegration,sS as reactRouterV5Instrumentation,FS as reactRouterV6BrowserTracingIntegration,$S as reactRouterV6Instrumentation,jg as replayCanvasIntegration,bS as replayIntegration,$y as reportingObserverIntegration,Hy as rewriteFramesIntegration,oy as sendFeedback,zy as sessionTimingIntegration,Au as setContext,Hl as setCurrentClient,ob as setExtra,ib as setExtras,ab as setHttpStatus,cb as setMeasurement,ub as setTag,lb as setTags,db as setUser,so as showReportDialog,fb as spanStatusfromHttpCode,qt as startBrowserTracingNavigationSpan,Gt as startBrowserTracingPageLoadSpan,kt as startInactiveSpan,Ns as startSession,pb as startSpan,hb as startSpanManual,mb as startTransaction,gb as trace,MS as useProfiler,yf as winjsStackLineParser,Ls as withActiveSpan,AS as withErrorBoundary,yb as withIsolationScope,xS as withProfiler,Wt as withScope,BS as withSentryReactRouterV6Routing,PS as withSentryRouting,_S as wrap,US as wrapCreateBrowserRouter,HS as wrapUseRoutes};
